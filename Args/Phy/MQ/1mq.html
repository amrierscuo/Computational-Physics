<!DOCTYPE html>
<html lang="it" data-theme="ice" data-mode="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <title>Indice MQ</title>

  <style>
    :root{
      /* --- Core look (vibey + readable) --- */
      --ink: #0b1020;
      --ink-soft: rgba(11,16,32,0.86);
      --paper: rgba(255,255,255,0.86);
      --paper-strong: rgba(255,255,255,0.94);
      --glass: rgba(255,255,255,0.14);
      --shadow: rgba(0,0,0,0.22);
      --shadow-strong: rgba(0,0,0,0.35);

      /* --- Accenti (neon / candy) --- */
      --a-cyan: #00e5ff;
      --a-pink: #ff4ecd;
      --a-lime: #52ff9c;
      --a-gold: #ffe34d;
      --a-violet: #8d7dff;
      --a-red: #ff2a6d;

      /* --- Layout --- */
      --radius: 18px;
      --radius-sm: 12px;
      --sidebar-w: 292px;
      --content-max: 1180px;

      /* --- Sidebar --- */
      --sidebar-bg: rgba(13, 20, 45, 0.92);
      --sidebar-ink: #eaf6ff;
      --sidebar-muted: rgba(234,246,255,0.76);
      --sidebar-hover: rgba(255,255,255,0.10);
      --sidebar-border: rgba(255,255,255,0.18);

      /* --- Buttons --- */
      --btn-bg: rgba(255,255,255,0.10);
      --btn-border: rgba(255,255,255,0.22);
      --btn-ink: #ffffff;

      /* --- Classic tokens used by your existing CSS/classes --- */
      --background-color: #f9f9f9;
      --sidebar-color: #2c3e50;
      --sidebar-text-color: #ecf0f1;
      --sidebar-hover-color: #34495e;
      --content-background: #ffffff;
      --header-color: #3498db;
      --link-color: #146cb8;
      --link-hover-color: #1abc9c;
      --text-color: #2c3e50;
    }

    *{ box-sizing: border-box; }
    html{ scroll-behavior: smooth; }
    body{
      margin:0;
      min-height:100vh;
      overflow-x:hidden;
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;

      /* Texture + gradienti + vibe */
      background:
        radial-gradient(1100px 760px at 12% 10%, rgba(0,229,255,0.22), transparent 58%),
        radial-gradient(900px 700px at 90% 20%, rgba(255,78,205,0.16), transparent 60%),
        radial-gradient(1200px 900px at 60% 92%, rgba(82,255,156,0.14), transparent 60%),
        url('img/texture_ghiaccio.png') repeat center center fixed;
      background-size: auto, auto, auto, 420px 420px;
    }

    /* Overlay ‚Äúgrain + sheen‚Äù */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events:none;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.00) 35%, rgba(0,0,0,0.08) 100%),
        repeating-linear-gradient(135deg,
          rgba(255,255,255,0.06) 0 2px,
          rgba(255,255,255,0) 2px 10px);
      opacity: 0.75;
      mix-blend-mode: overlay;
      z-index: 0;
    }

    /* Scrollbar (solo estetica) */
    ::-webkit-scrollbar{ width: 10px; }
    ::-webkit-scrollbar-track{ background: rgba(255,255,255,0.10); }
    ::-webkit-scrollbar-thumb{
      background: linear-gradient(180deg, rgba(0,229,255,0.6), rgba(255,78,205,0.45));
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.22);
    }

    /* ===== Topbar (solo Scuro/Chiaro) ===== */
    .topbar{
      position: fixed;
      top: 14px;
      right: 14px;
      z-index: 1100;
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.22);
      background:
        radial-gradient(600px 160px at 10% 0%, rgba(0,229,255,0.20), transparent 55%),
        radial-gradient(600px 160px at 90% 0%, rgba(255,78,205,0.14), transparent 55%),
        rgba(10,16,30,0.46);
      box-shadow: 0 18px 46px rgba(0,0,0,0.24);
      backdrop-filter: blur(10px);
    }
    .tb-btn{
      appearance:none;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.10);
      color: rgba(255,255,255,0.94);
      padding: 10px 12px;
      border-radius: 999px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap: 10px;
      font-weight: 1000;
      letter-spacing: 0.15px;
      box-shadow: 0 14px 30px rgba(0,0,0,0.18);
      transition: transform .16s ease, filter .16s ease, box-shadow .16s ease;
      user-select:none;
      white-space: nowrap;
    }
    .tb-btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.06);
      box-shadow: 0 18px 42px rgba(0,0,0,0.24);
    }
    .tb-btn:active{
      transform: translateY(1px);
      filter: brightness(0.98);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }
    .tb-badge{
      font-size: 11px;
      font-weight: 1000;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      padding: 6px 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(0,229,255,0.88), rgba(255,227,77,0.78));
      color: #0b1020;
      border: 1px solid rgba(255,255,255,0.30);
      box-shadow: 0 12px 22px rgba(0,229,255,0.16);
    }
    .tb-mini{ opacity: 0.92; font-size: 14px; line-height: 1; }

    @media (max-width: 860px){
      .topbar{
        top: 64px;       /* sotto il toggle menu */
        left: 14px;
        right: 14px;
        justify-content: center;
      }
      .tb-btn{
        flex: 1 1 auto;
        justify-content: center;
      }
    }

    /* --- Toggle Button --- */
    .toggle-btn{
      position: fixed;
      top: 14px;
      left: 14px;
      z-index: 1200;
      cursor: pointer;
      border: 1px solid rgba(255,255,255,0.22);
      color: var(--btn-ink);
      background:
        linear-gradient(135deg, rgba(0,229,255,0.55), rgba(255,78,205,0.45)) padding-box,
        rgba(255,255,255,0.12) border-box;
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 800;
      letter-spacing: 0.2px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.20);
      backdrop-filter: blur(8px);
      transition: transform 0.18s ease, box-shadow 0.18s ease, filter 0.18s ease;
    }
    .toggle-btn:hover{ transform: translateY(-1px) scale(1.02); filter: brightness(1.08); }
    .toggle-btn:active{ transform: translateY(1px) scale(0.99); }

    /* --- Sidebar --- */
    .sidebar{
      position: fixed;
      inset: 0 auto 0 0;
      width: var(--sidebar-w);
      height: 100%;
      padding: 22px 18px;
      color: var(--sidebar-ink);
      background:
        radial-gradient(600px 600px at 30% 10%, rgba(0,229,255,0.16), transparent 60%),
        radial-gradient(600px 600px at 70% 30%, rgba(255,78,205,0.12), transparent 60%),
        radial-gradient(700px 700px at 40% 90%, rgba(82,255,156,0.10), transparent 60%),
        var(--sidebar-bg);
      border-right: 1px solid var(--sidebar-border);
      box-shadow: 0 18px 40px rgba(0,0,0,0.35);
      z-index: 900;
      transform: translateX(0);
      transition: transform 0.28s cubic-bezier(0.2, 0.8, 0.2, 1);
      backdrop-filter: blur(10px);
    }
    .sidebar.closed{ transform: translateX(calc(-1 * var(--sidebar-w) - 10px)); }

    .sidebar__brand{
      display:flex;
      align-items:center;
      gap: 12px;
      padding: 10px 10px 16px;
      margin-bottom: 10px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.06);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }

    /* ===== Spacer tile (per evitare overlap del toggle) ===== */
    .sidebar__brand--spacer{
      min-height: 56px;
      padding: 8px 10px;
      margin-bottom: 12px;
      justify-content: center;
      background: rgba(255,255,255,0.04);
      border: 1px dashed rgba(255,255,255,0.22);
      box-shadow: 0 12px 26px rgba(0,0,0,0.20);
    }
    .sidebar__brand--spacer h1{ margin:0; font-size:0; line-height:0; }
    .sidebar__brand--spacer .sidebar__sub{ height:0; font-size:0; }

    .brand-badge{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      font-weight: 1000;
      letter-spacing: 0.6px;
      color: #07101b;
      background:
        linear-gradient(135deg, rgba(0,229,255,0.95), rgba(255,227,77,0.95));
      box-shadow: 0 10px 25px rgba(0,229,255,0.22);
      position: relative;
      overflow:hidden;
    }
    .brand-badge::after{
      content:"";
      position:absolute;
      inset:-20%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,0.65), transparent 55%),
        radial-gradient(circle at 70% 60%, rgba(255,255,255,0.35), transparent 60%);
      transform: rotate(15deg);
      opacity: 0.8;
    }
    .sidebar h1{
      margin: 0;
      font-size: 18px;
      line-height: 1.15;
      letter-spacing: 0.2px;
    }
    .sidebar__sub{
      margin-top: 2px;
      font-size: 12px;
      color: var(--sidebar-muted);
    }

    .sidebar ul{
      list-style:none;
      padding: 0;
      margin: 14px 0 0;
    }
    .sidebar li{ margin: 10px 0; }

    .sidebar a{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      text-decoration:none;
      color: var(--sidebar-ink);
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      transition: transform 0.16s ease, background 0.16s ease, border-color 0.16s ease, box-shadow 0.16s ease;
    }
    .sidebar a:hover{
      background: var(--sidebar-hover);
      border-color: rgba(255,255,255,0.18);
      transform: translateX(3px);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }
    .nav-dot{
      width: 9px; height: 9px; border-radius: 999px;
      background: linear-gradient(180deg, var(--a-cyan), var(--a-pink));
      box-shadow: 0 0 0 3px rgba(255,255,255,0.08);
      flex: 0 0 auto;
    }

    .sidebar__footer{
      position:absolute;
      left: 18px;
      right: 18px;
      bottom: 16px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      color: var(--sidebar-muted);
      font-size: 12px;
    }
    .sidebar__footer b{ color: rgba(255,255,255,0.92); }

    /* --- Content --- */
    .content{
      position: relative;
      z-index: 1;
      margin-left: calc(var(--sidebar-w) + 18px);
      padding: 22px 18px 44px;
      transition: margin-left 0.28s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    .content.collapsed{ margin-left: 18px; }
    .content-inner{
      max-width: var(--content-max);
      margin: 0 auto;
    }

    /* --- Panels / Cards (double borders + texture) --- */
    .panel{
      position: relative;
      padding: 18px;
      margin: 16px 0;
      border-radius: var(--radius);
      background:
        radial-gradient(900px 340px at 20% 0%, rgba(0,229,255,0.12), transparent 55%),
        radial-gradient(900px 340px at 80% 0%, rgba(255,78,205,0.10), transparent 55%),
        linear-gradient(145deg, rgba(255,255,255,0.92), rgba(255,255,255,0.74));
      box-shadow:
        0 16px 40px rgba(0,0,0,0.20),
        0 2px 0 rgba(255,255,255,0.35) inset;
      border: 2px solid rgba(255,255,255,0.42);
      overflow: hidden;
    }
    .panel::before{
      content:"";
      position:absolute;
      inset: 10px;
      border-radius: calc(var(--radius) - 10px);
      border: 2px solid rgba(0,0,0,0.06);
      pointer-events:none;
    }
    .panel::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background:
        repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0 1px, rgba(0,0,0,0) 1px 12px);
      opacity: 0.25;
      mix-blend-mode: multiply;
    }

    /* Varianti */
    .panel--hero{
      padding: 22px;
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(0,229,255,0.20), transparent 60%),
        radial-gradient(900px 420px at 90% 10%, rgba(255,78,205,0.16), transparent 60%),
        linear-gradient(145deg, rgba(255,255,255,0.93), rgba(255,255,255,0.70));
    }
    .panel--red{
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(255,42,109,0.18), transparent 60%),
        radial-gradient(900px 420px at 90% 10%, rgba(255,227,77,0.14), transparent 60%),
        linear-gradient(145deg, rgba(255,255,255,0.93), rgba(255,255,255,0.72));
    }
    .panel--purple{
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(141,125,255,0.18), transparent 60%),
        radial-gradient(900px 420px at 90% 10%, rgba(255,78,205,0.12), transparent 60%),
        linear-gradient(145deg, rgba(255,255,255,0.93), rgba(255,255,255,0.72));
    }
    .panel--dark{
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(0,229,255,0.20), transparent 60%),
        radial-gradient(900px 420px at 90% 10%, rgba(255,78,205,0.16), transparent 60%),
        linear-gradient(145deg, rgba(10,16,30,0.82), rgba(20,28,55,0.70));
      color: rgba(255,255,255,0.92);
      border-color: rgba(255,255,255,0.18);
      box-shadow: 0 18px 48px rgba(0,0,0,0.32);
    }
    .panel--dark::before{ border-color: rgba(255,255,255,0.12); }
    .panel--dark a{ color: rgba(255,255,255,0.95); }
    .panel--dark a:hover{ color: var(--a-cyan); }

    /* --- Typography & links --- */
    h2, h3{
      margin: 0 0 10px;
      line-height: 1.2;
      letter-spacing: 0.2px;
    }
    .title-gradient{
      background: linear-gradient(90deg, #0b1020, #0b1020, #0b1020);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .section-title{
      display:flex;
      align-items:center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .section-title .chip{
      font-size: 12px;
      font-weight: 900;
      letter-spacing: 0.5px;
      color: #07101b;
      padding: 6px 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(0,229,255,0.85), rgba(255,227,77,0.85));
      box-shadow: 0 10px 18px rgba(0,229,255,0.18);
      border: 1px solid rgba(255,255,255,0.55);
    }

    a{
      color: var(--link-color);
      text-decoration: none;
      text-decoration-thickness: 2px;
      text-underline-offset: 3px;
      transition: color 0.15s ease, transform 0.15s ease, text-decoration-color 0.15s ease;
    }
    a:hover{
      color: var(--link-hover-color);
      text-decoration: underline;
      text-decoration-color: rgba(26,188,156,0.85);
    }

    /* --- Image section --- */
    .image-container{
      text-align:center;
      margin-top: 14px;
    }
    img{
      max-width: 100%;
      height: auto;
      border-radius: var(--radius);
      border: 2px solid rgba(255,255,255,0.55);
      box-shadow:
        0 18px 42px rgba(0,0,0,0.22),
        0 2px 0 rgba(255,255,255,0.35) inset;
      background: rgba(255,255,255,0.35);
    }

    /* --- Callouts / boxes --- */
    .callout{
      position: relative;
      padding: 16px;
      border-radius: var(--radius);
      background: rgba(255,255,255,0.76);
      border: 2px solid rgba(0,0,0,0.06);
      box-shadow: 0 12px 26px rgba(0,0,0,0.14);
      overflow:hidden;
    }
    .callout::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background: radial-gradient(circle at 15% 15%, rgba(255,255,255,0.80), transparent 60%);
      opacity: 0.8;
    }
    .callout--red{
      border: 2px solid rgba(179, 0, 0, 0.35);
      box-shadow: 0 18px 40px rgba(179,0,0,0.10), 0 12px 26px rgba(0,0,0,0.14);
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(255,42,109,0.14), transparent 60%),
        rgba(255,245,245,0.84);
    }
    .callout--purple{
      border: 2px solid rgba(153, 0, 153, 0.35);
      box-shadow: 0 18px 40px rgba(153,0,153,0.10), 0 12px 26px rgba(0,0,0,0.14);
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(141,125,255,0.16), transparent 60%),
        rgba(250,240,255,0.84);
    }

    .resource-list{
      list-style: none;
      padding-left: 0;
      margin: 12px 0 0;
      display:grid;
      gap: 12px;
    }
    .resource-list li{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.06);
      background: rgba(255,255,255,0.65);
      box-shadow: 0 10px 22px rgba(0,0,0,0.10);
    }
    .resource-list a{
      font-weight: 900;
      display:inline-flex;
      align-items:center;
      gap: 10px;
    }
    .muted{ color: rgba(11,16,32,0.74); font-size: 0.96em; }

    /* --- Tabelle Argomenti --- */
    table.argomenti-table{
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background: rgba(255,255,255,0.75);
      border: 3px double rgba(52,152,219,0.65);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 18px 42px rgba(0,0,0,0.18);
    }
    table.argomenti-table td{
      vertical-align: top;
      padding: 16px 16px 14px;
      border-right: 1px solid rgba(0,0,0,0.10);
      border-bottom: 1px solid rgba(0,0,0,0.10);
      position: relative;
      overflow:hidden;
      transition: transform 0.12s ease, filter 0.12s ease;
    }
    table.argomenti-table tr td:last-child{ border-right:none; }
    table.argomenti-table tr:last-child td{ border-bottom:none; }

    table.argomenti-table td::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient(circle at 20% 15%, rgba(255,255,255,0.55), transparent 55%),
        repeating-linear-gradient(135deg, rgba(0,0,0,0.04) 0 1px, rgba(0,0,0,0) 1px 14px);
      opacity: 0.22;
      mix-blend-mode: multiply;
    }
    table.argomenti-table td:hover{
      transform: translateY(-1px);
      filter: saturate(1.12) contrast(1.04);
    }
    table.argomenti-table td strong{
      display:block;
      margin-bottom: 10px;
      color: rgba(11,16,32,0.92);
      font-size: 1.12em;
      letter-spacing: 0.2px;
      text-shadow: 0 1px 0 rgba(255,255,255,0.55);
    }
    table.argomenti-table ul{
      margin: 0;
      padding-left: 18px;
      list-style-type: "‚ú¶ ";
    }
    table.argomenti-table a{
      color: rgba(11,16,32,0.92);
      font-weight: 600;
    }

    /* --- SOLO il titolo dell'argomento 6 √® cliccabile e mantiene il colore --- */
    table.argomenti-table td.argomento-6 strong a.title-link,
    table.argomenti-table td.argomento-6 strong a.title-link:visited{
      color: rgba(11,16,32,0.92);
      text-decoration: none;
    }
    table.argomenti-table td.argomento-6 strong a.title-link:hover,
    table.argomenti-table td.argomento-6 strong a.title-link:focus{
      color: rgba(11,16,32,0.92);
      text-decoration: underline;
      text-decoration-color: rgba(0,229,255,0.85);
      outline: none;
    }

    /* Colori per i 14 argomenti principali */
    .argomento-1 {background-color: #f9c0c0;}
    .argomento-2 {background-color: #fce3c0;}
    .argomento-3 {background-color: #f9f9c0;}
    .argomento-4 {background-color: #c0f9c4;}
    .argomento-5 {background-color: #c0f9f4;}
    .argomento-6 {background-color: #c0d0f9;}
    .argomento-7 {background-color: #e0c0f9;}
    .argomento-8 {background-color: #f9c0e3;}
    .argomento-9 {background-color: #f9d8c0;}
    .argomento-10{background-color: #f9ecc0;}
    .argomento-11{background-color: #d0f9c0;}
    .argomento-12{background-color: #c0f9f9;}
    .argomento-13{background-color: #c0e0f9;}
    .argomento-14{background-color: #f9c0f9;}

    /* Colori per Esercizi (Set) - 10 set */
    .esercizio-1 {background-color: #ffe5e0;}
    .esercizio-2 {background-color: #fff0e0;}
    .esercizio-3 {background-color: #fffce0;}
    .esercizio-4 {background-color: #e0ffe5;}
    .esercizio-5 {background-color: #e0fffa;}
    .esercizio-6 {background-color: #e0f0ff;}
    .esercizio-7 {background-color: #f0e0ff;}
    .esercizio-8 {background-color: #ffe0f5;}
    .esercizio-9 {background-color: #f7ffe0;}
    .esercizio-10{background-color: #e0ffe0;}

    /* Colori per Esami Scritti (9 esami) */
    .esame-1 {background-color: #ffe6f0;}
    .esame-2 {background-color: #ffe6f9;}
    .esame-3 {background-color: #fce6ff;}
    .esame-4 {background-color: #e6e6ff;}
    .esame-5 {background-color: #e6f9ff;}
    .esame-6 {background-color: #e6fffa;}
    .esame-7 {background-color: #e6ffed;}
    .esame-8 {background-color: #f6ffe6;}
    .esame-9 {background-color: #fffae6;}

    /* Liste colorate esercizi/esami */
    ul > li[class^="esercizio-"],
    ul > li[class^="esame-"]{
      padding: 10px 12px;
      border-radius: 14px;
      margin-bottom: 8px;
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 10px 20px rgba(0,0,0,0.08);
      transition: transform 0.12s ease, filter 0.12s ease;
    }
    ul > li[class^="esercizio-"]:hover,
    ul > li[class^="esame-"]:hover{
      transform: translateY(-1px);
      filter: saturate(1.12) contrast(1.04);
    }

    /* --- Orali pre-2025 list --- */
    #orali-pre2025-list{
      padding-left: 18px;
      margin: 12px 0 0;
      list-style: none;
      display: grid;
      gap: 8px;
    }
    #orali-pre2025-list li{
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,0.70);
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 10px 18px rgba(0,0,0,0.08);
      position: relative;
      overflow: hidden;
    }
    #orali-pre2025-list li::before{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(circle at 10% 10%, rgba(0,229,255,0.10), transparent 58%);
      pointer-events:none;
    }
    #orali-pre2025-list a{ font-weight: 700; }
    #orali-pre2025-list hr{
      border: none;
      height: 2px;
      margin: 12px 0;
      background: linear-gradient(90deg, rgba(0,229,255,0.0), rgba(0,229,255,0.55), rgba(255,78,205,0.55), rgba(255,78,205,0.0));
      border-radius: 999px;
      grid-column: 1 / -1;
    }
    @media (min-width: 980px){
      #orali-pre2025-list{ grid-template-columns: 1fr 1fr; }
      #orali-pre2025-list li{ break-inside: avoid; }
    }

    /* --- Orali 2025 list --- */
    #orali-2025-list{
      margin: 0;
      padding-left: 18px;
      font-size: 1.03em;
      display: grid;
      gap: 8px;
    }
    #orali-2025-list li{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(179,0,0,0.18);
      background: rgba(255,255,255,0.72);
      box-shadow: 0 10px 18px rgba(0,0,0,0.09);
    }
    #orali-2025-list a{
      color: #cc0000;
      font-weight: 900;
    }

    /* --- Wheel area --- */
    @keyframes fadeIn{
      from{ opacity: 0; transform: translateY(18px) scale(0.98); }
      to{ opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes glowPulse{
      0%{ filter: drop-shadow(0 0 0 rgba(0,229,255,0.0)); }
      50%{ filter: drop-shadow(0 0 18px rgba(0,229,255,0.35)); }
      100%{ filter: drop-shadow(0 0 0 rgba(0,229,255,0.0)); }
    }

    #wheel-container{
      position: relative;
      border-radius: 22px;
      overflow:hidden;
      border: 3px double rgba(255,255,255,0.25);
      background:
        radial-gradient(1000px 600px at 10% 10%, rgba(0,229,255,0.18), transparent 60%),
        radial-gradient(1000px 600px at 90% 20%, rgba(255,78,205,0.14), transparent 60%),
        linear-gradient(145deg, rgba(10,16,30,0.78), rgba(20,28,55,0.72));
      box-shadow: 0 24px 70px rgba(0,0,0,0.40);
      padding: 18px;
    }
    #wheel-container::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: url('img/rotabackground.jpg') center/cover;
      filter: brightness(0.55) blur(2px);
      opacity: 0.35;
      transform: rotate(8deg);
      pointer-events:none;
    }
    #wheel-container::after{
      content:"";
      position:absolute;
      inset:0;
      background: url('img/eso0932a.jpg') center center / cover no-repeat;
      opacity: 0.24;
      mix-blend-mode: screen;
      pointer-events:none;
    }

    .wheel-content{
      position: relative;
      z-index: 2;
      border-radius: 18px;
      padding: 16px;
      border: 2px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(8px);
      box-shadow:
        0 18px 52px rgba(0,0,0,0.28),
        0 2px 0 rgba(255,255,255,0.10) inset;
    }

    .wheel-grid{
      display: grid;
      gap: 14px;
      align-items: start;
    }
    @media (min-width: 980px){
      .wheel-grid{ grid-template-columns: auto 1fr; }
    }

    .wheel-stage{
      position: relative;
      display: grid;
      place-items: center;
      padding: 8px;
      border-radius: 18px;
      border: 2px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.10);
      box-shadow: 0 18px 46px rgba(0,0,0,0.26);
      animation: glowPulse 4.2s ease-in-out infinite;
    }

    .wheel-pointer{
      position: absolute;
      top: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 18px solid transparent;
      border-right: 18px solid transparent;
      border-bottom: 32px solid rgba(255,255,255,0.92);
      filter: drop-shadow(0 8px 10px rgba(0,0,0,0.35));
      z-index: 5;
    }
    .wheel-pointer::after{
      content:"";
      position:absolute;
      left: 50%;
      top: 4px;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 18px solid rgba(179,0,0,0.92);
    }

    canvas#wheel{
      width: min(460px, 88vw);
      height: auto;
      aspect-ratio: 1 / 1;
      border-radius: 999px;
      border: 8px double rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.92);
      box-shadow:
        0 0 0 3px rgba(0,229,255,0.20),
        0 24px 60px rgba(0,0,0,0.35);
    }

    .wheel-panel{
      color: rgba(255,255,255,0.92);
      border-radius: 18px;
      border: 2px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.18);
      padding: 14px;
      box-shadow: 0 18px 46px rgba(0,0,0,0.26);
    }
    .wheel-panel h3{
      margin: 0 0 10px;
      color: rgba(255,255,255,0.95);
      font-family: Georgia, serif;
      letter-spacing: 0.2px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.35);
    }

    .wheel-controls{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items:center;
      padding: 10px;
      border-radius: 14px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.14);
      margin-bottom: 12px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.07);
      font-weight: 800;
      font-size: 12px;
      color: rgba(255,255,255,0.92);
      cursor: pointer;
      user-select:none;
    }
    .pill input{ accent-color: var(--a-cyan); cursor:pointer; }
    .wheel-meta{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 10px 0 12px;
      color: rgba(255,255,255,0.78);
      font-size: 12px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
    }
    .badge .dot{
      width: 10px; height: 10px; border-radius: 999px;
      background: linear-gradient(180deg, var(--a-cyan), var(--a-pink));
      box-shadow: 0 0 0 3px rgba(255,255,255,0.08);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.10);
      color: rgba(255,255,255,0.92);
      font-weight: 1000;
      cursor:pointer;
      transition: transform 0.16s ease, filter 0.16s ease, box-shadow 0.16s ease;
      user-select:none;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.06); box-shadow: 0 12px 22px rgba(0,0,0,0.22); }
    .btn:active{ transform: translateY(1px); filter: brightness(0.98); }
    .btn:disabled{ opacity: 0.55; cursor: not-allowed; transform: none !important; box-shadow: none !important; }
    .btn--primary{
      background: linear-gradient(135deg, rgba(255,42,109,0.92), rgba(255,227,77,0.78));
      color: #0b1020;
      border-color: rgba(255,255,255,0.25);
    }
    .btn--ghost{ background: rgba(255,255,255,0.08); }

    #result-box{
      margin-top: 12px;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.10);
      display:none;
      animation: fadeIn 0.55s ease;
    }
    .result-kicker{
      font-size: 12px;
      letter-spacing: 0.6px;
      text-transform: uppercase;
      color: rgba(255,255,255,0.74);
      margin-bottom: 6px;
    }
    .result-title{
      font-size: 18px;
      font-weight: 1000;
      line-height: 1.25;
      color: rgba(255,255,255,0.95);
      margin-bottom: 10px;
    }
    .result-actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .wheel-history{
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.80);
      font-size: 12px;
    }
    .history-list{
      margin: 8px 0 0;
      padding: 0;
      list-style: none;
      display:grid;
      gap: 8px;
    }
    .history-item{
      display:flex;
      align-items:flex-start;
      gap: 10px;
      padding: 10px;
      border-radius: 14px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
    }
    .history-item .mini{
      width: 30px; height: 30px;
      border-radius: 12px;
      flex: 0 0 auto;
      display:grid;
      place-items:center;
      font-weight: 1000;
      color: #0b1020;
      background: linear-gradient(135deg, rgba(0,229,255,0.92), rgba(255,78,205,0.78));
    }
    .history-item a{ color: rgba(255,255,255,0.95); }
    .history-item a:hover{ color: var(--a-cyan); }

    /* Confetti */
    .confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index: 9;
      overflow:hidden;
    }
    .confetti span{
      position:absolute;
      top: -10%;
      width: 10px;
      height: 18px;
      border-radius: 4px;
      opacity: 0.95;
      animation: confettiFall 1.6s ease-in forwards;
      filter: drop-shadow(0 10px 10px rgba(0,0,0,0.28));
    }
    @keyframes confettiFall{
      to{
        transform: translateY(120vh) rotate(360deg);
        opacity: 0.9;
      }
    }

    /* --- Sorting section (probabilit√†) --- */
    #apply-sort-button{
      border: 1px solid rgba(255,255,255,0.22);
      background: linear-gradient(135deg, rgba(0,229,255,0.70), rgba(255,78,205,0.55));
      color: #0b1020;
      font-weight: 1000;
      padding: 12px 16px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.16s ease, filter 0.16s ease, box-shadow 0.16s ease;
      box-shadow: 0 16px 32px rgba(0,0,0,0.20);
    }
    #apply-sort-button:hover{ transform: translateY(-1px); filter: brightness(1.06); }
    #apply-sort-button:active{ transform: translateY(1px); filter: brightness(0.98); }

    #sort-options{
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(0,0,0,0.06);
      background: rgba(255,255,255,0.62);
      box-shadow: 0 10px 18px rgba(0,0,0,0.10);
    }
    #sort-options label{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 8px 6px;
      font-weight: 800;
      color: rgba(11,16,32,0.82);
      cursor:pointer;
    }
    #sort-options input{ accent-color: var(--a-pink); cursor:pointer; }

    .sort-filters{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 10px 0 0;
    }
    .sort-filters .pill{
      background: rgba(255,255,255,0.72);
      color: rgba(11,16,32,0.88);
      border-color: rgba(0,0,0,0.06);
    }
    .sort-filters .pill input{ accent-color: var(--a-pink); }

    .sorted-wrapper{
      margin-top: 14px;
      padding: 12px;
      border-radius: 18px;
      background: rgba(255,255,255,0.66);
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 12px 24px rgba(0,0,0,0.12);
    }
    .sorted-wrapper h3{
      margin: 6px 0 10px;
      color: rgba(11,16,32,0.90);
    }
    .sorted-list{
      list-style: none;
      padding: 0;
      margin: 0;
      display:grid;
      gap: 10px;
    }
    .sorted-item{
      padding: 12px;
      border-radius: 16px;
      background: rgba(255,255,255,0.76);
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 10px 18px rgba(0,0,0,0.10);
      position: relative;
      overflow: hidden;
    }
    .sorted-item::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background: radial-gradient(circle at 10% 10%, rgba(0,229,255,0.10), transparent 58%);
      opacity: 0.9;
    }
    .sorted-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
    }
    .sorted-title{
      font-weight: 1000;
      color: rgba(11,16,32,0.92);
      line-height: 1.25;
    }
    .tag{
      font-size: 11px;
      font-weight: 1000;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.08);
      background: rgba(255,255,255,0.65);
      color: rgba(11,16,32,0.70);
      flex: 0 0 auto;
    }
    .tag--2025{
      background: rgba(255,42,109,0.12);
      border-color: rgba(255,42,109,0.18);
      color: rgba(179,0,0,0.85);
    }
    .tag--pre{
      background: rgba(0,229,255,0.10);
      border-color: rgba(0,229,255,0.18);
      color: rgba(0,90,120,0.95);
    }

    .bar{
      margin-top: 10px;
      height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,0.06);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,0.06);
    }
    .bar > span{
      display:block;
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(0,229,255,0.85), rgba(255,78,205,0.70), rgba(255,227,77,0.75));
      box-shadow: 0 10px 20px rgba(0,0,0,0.14);
    }
    .sorted-meta{
      margin-top: 8px;
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 12px;
      color: rgba(11,16,32,0.72);
    }
    .medal{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      font-weight: 1000;
      color: rgba(11,16,32,0.80);
    }
    .medal img{ width: 18px; height: 18px; border-radius: 6px; box-shadow: none; border: none; }

    /* Footer */
    footer{
      margin-top: 18px;
      padding: 16px 18px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.20);
      background: rgba(255,255,255,0.16);
      backdrop-filter: blur(10px);
      box-shadow: 0 14px 30px rgba(0,0,0,0.16);
    }

    /* Responsive: su mobile la sidebar parte chiusa */
    @media (max-width: 860px){
      .content{ margin-left: 18px; }
      .sidebar{ transform: translateX(calc(-1 * var(--sidebar-w) - 10px)); }
      .sidebar.closed{ transform: translateX(calc(-1 * var(--sidebar-w) - 10px)); }
      body.sidebar-open .sidebar{ transform: translateX(0); }
    }

    /* ===== Mode toggle (DARK vs LIGHT) ===== */
    html[data-mode="light"]{ color-scheme: light; }
    html[data-mode="light"] body{
      background:
        radial-gradient(1100px 760px at 12% 12%, rgba(0,229,255,0.12), transparent 60%),
        radial-gradient(980px 760px at 92% 18%, rgba(255,78,205,0.08), transparent 62%),
        radial-gradient(1400px 960px at 55% 98%, rgba(82,255,156,0.08), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,0.92), rgba(240,246,255,0.95));
      background-size: auto;
    }
    html[data-mode="light"] body::before{ opacity: 0.45; mix-blend-mode: normal; }
    html[data-mode="light"] .sidebar{
      background:
        radial-gradient(600px 600px at 30% 10%, rgba(0,229,255,0.10), transparent 60%),
        radial-gradient(600px 600px at 70% 30%, rgba(255,78,205,0.08), transparent 60%),
        rgba(255,255,255,0.92);
      color: rgba(11,16,32,0.92);
      border-right-color: rgba(0,0,0,0.12);
    }
    html[data-mode="light"] .sidebar a{ color: rgba(11,16,32,0.92); background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.06); }
    html[data-mode="light"] .sidebar a:hover{ background: rgba(0,0,0,0.06); }
    html[data-mode="light"] .sidebar__footer{ color: rgba(11,16,32,0.70); border-color: rgba(0,0,0,0.08); background: rgba(0,0,0,0.03); }
    html[data-mode="light"] .sidebar__footer b{ color: rgba(11,16,32,0.92); }

    html[data-mode="light"] .topbar{
      border-color: rgba(0,0,0,0.10);
      background:
        radial-gradient(600px 160px at 10% 0%, rgba(0,229,255,0.10), transparent 55%),
        radial-gradient(600px 160px at 90% 0%, rgba(255,78,205,0.08), transparent 55%),
        rgba(255,255,255,0.68);
      box-shadow: 0 18px 46px rgba(0,0,0,0.14);
    }
    html[data-mode="light"] .tb-btn{
      color: rgba(11,16,32,0.92);
      background: rgba(255,255,255,0.78);
      border-color: rgba(0,0,0,0.10);
      box-shadow: 0 12px 24px rgba(0,0,0,0.12);
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }
  </style>
</head>

<body>
  <!-- Topbar: SOLO Scuro/Chiaro -->
  <div class="topbar" role="toolbar" aria-label="Controlli interfaccia">
    <button id="mode-btn" class="tb-btn" type="button" title="Alterna Scuro/Chiaro">
      <span id="mode-icon" class="tb-mini">üåô</span>
      <span id="mode-label">Scuro</span>
      <span id="mode-badge" class="tb-badge">DARK</span>
    </button>
  </div>

  <button class="toggle-btn" onclick="toggleSidebar()" aria-label="Toggle Menu">‚ò∞ Menu</button>

  <div class="sidebar" id="sidebar" aria-label="Menu laterale">
    <!-- Spacer tile (vuoto) per evitare sovrapposizioni col toggle -->
    <div class="sidebar__brand sidebar__brand--spacer" aria-hidden="true">
      <div>
        <h1></h1>
        <div class="sidebar__sub"></div>
      </div>
    </div>

    <div class="sidebar__brand">
      <div class="brand-badge" aria-hidden="true">MQ</div>
      <div>
        <h1>Indice MQ</h1>
        <div class="sidebar__sub">Studio ‚Ä¢ Esercizi ‚Ä¢ Esami ‚Ä¢ Orali</div>
      </div>
    </div>

    <ul>
      <li><a href="#argomenti-mq"><span class="nav-dot" aria-hidden="true"></span> 1. Argomenti MQ</a></li>
      <li><a href="#esercizi-set"><span class="nav-dot" aria-hidden="true"></span> 2. Esercizi/Set di MQ</a></li>
      <li><a href="#esami-scritti"><span class="nav-dot" aria-hidden="true"></span> 3. Esami Scritti MQ</a></li>
      <li><a href="#domande-orali"><span class="nav-dot" aria-hidden="true"></span> 4. Domande Orali MQ</a></li>
    </ul>

    <div class="sidebar__footer">
      <b>Tip:</b> usa la Ruota üé° per allenarti ‚Äúa sorpresa‚Äù<br />
      e il Riordino per capire cosa studiare prima.
    </div>
  </div>

  <div class="content" id="content">
    <div class="content-inner">

      <div id="indice-mq">

        <!-- HERO: Indice immagine -->
        <div class="panel panel--hero">
          <div class="section-title">
            <span class="chip">Indice</span>
            <h2 class="title-gradient">Indice Completo (Formato Immagine)</h2>
          </div>
          <div class="image-container">
            <img src="indiceMQ++.jpg" alt="Indice Completo MQ">
          </div>
        </div>

        <!-- [-1] Rel -->
        <div class="panel panel--red">
          <div class="section-title">
            <span class="chip">-1</span>
            <h2 class="title-gradient">Rel</h2>
          </div>

          <div class="callout callout--red">
            <a href="1relativita.html" style="color:#b30000; font-weight:1000; text-decoration:none;">
              üìÑ Relativit√† - Appunti e Riassunti
            </a>
          </div>
        </div>

        <!-- 0 Riassunti -->
        <div class="panel panel--red">
          <div class="section-title">
            <span class="chip">0</span>
            <h2 class="title-gradient">Riassunti</h2>
          </div>

          <div class="callout callout--red">
            <p>
              In questa sezione trovi due <strong>link utili per lo studio</strong> della Meccanica Quantistica:
            </p>

            <ul class="resource-list">
              <li>
                <a href="MQ.pdf" style="color:#cc0000;">üìÑ MQ.pdf (116 pagine)</a><br>
                <span class="muted">Riassunto chiaro con basi di algebra lineare, oscillatore armonico, momento angolare, atomo di idrogeno, sistemi composti e introduzione ai quantum bits. Testo a cura di Leonardo Castellani (2023).</span>
              </li>

              <li>
                <a href="Appunti-MQ.pdf" style="color:#cc0000;">üìÑ Appunti-MQ.pdf (299 pagine)</a><br>
                <span class="muted">Appunti esaustivi del corso di MQ a Roma Tre: trattazione chiara e completa di principi, dimostrazioni e teoria, con grafica migliorata. A cura di ex-studenti (2024).</span>
              </li>

              <li>
                <a href="AppuntiMQ.html" style="color:#007700;">üìÑ AppuntiEdoHD (263 pagine) ‚Äì Vai alla pagina</a><br>
                <span class="muted">Raccolta ordinata e ad alta risoluzione delle pagine scritte a mano da Edo, utilissima per seguire passo passo teoria, dimostrazioni e svolgimenti del corso. Il download √® disponibile nella pagina dedicata.</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- +1 Argomenti -->
        <div class="panel">
          <div class="section-title">
            <span class="chip">+1</span>
            <h2 id="argomenti-mq" class="title-gradient">Argomenti di Meccanica Quantistica</h2>
          </div>

          <table class="argomenti-table">
            <tr>
              <!-- 1 e 8 -->
              <td class="argomento-1">
                <strong>1. Limiti della fisica classica:</strong>
                <ul>
                  <li><a href="radiazione-corpo-nero.html">Radiazione di corpo nero</a></li>
                  <li><a href="effetto-fotoelettrico.html">Effetto fotoelettrico</a></li>
                  <li><a href="effetto-compton.html">Effetto Compton</a></li>
                  <li><a href="atomo-bohr.html">Atomo di Bohr</a></li>
                  <li><a href="spettri-atomici.html">Spettri atomici</a></li>
                </ul>
              </td>
              <td class="argomento-8">
                <strong>8. Eq. di Schr√∂dinger in 3 dimensioni:</strong>
                <ul>
                  <li><a href="separazione-variabili.html">Separazione delle variabili</a></li>
                  <li><a href="oscillatore-armonico-3d.html">Oscillatore armonico tridimensionale</a></li>
                  <li><a href="potenziali-centrali.html">Potenziali centrali</a></li>
                  <li><a href="atomo-idrogeno.html">Atomo di idrogeno</a></li>
                  <li><em>
                    <a href="polinomi ortogonali.pdf" download>Approfondimenti polinomi ortogonali (Download interno)</a> -
                    <a href="https://krein.unica.it/~cornelis/DIDATTICA/ISTFISMAT/appunti6_new.pdf" target="_blank">Download esterno</a>
                  </em></li>
                  <li><em>
                    <a href="equazioni differenziali II ordine.pdf" download>Equazioni differenziali II ordine</a> -
                    <a href="Equazioni differenziali II ordine-punto regolare.pdf" download>Punto regolare</a> -
                    <a href="Equazioni  differenziali II ordine-punto singolare-regolare.pdf" download>Punto singolare-regolare</a>
                  </em></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 2 e 9 -->
              <td class="argomento-2">
                <strong>2. Onde e particelle:</strong>
                <ul>
                  <li><a href="relazione-de-broglie.html">Relazione di de Broglie</a></li>
                  <li><a href="analogia-ottica-meccanica.html">Analogia ottica-meccanica</a></li>
                  <li><a href="esperimenti-doppia-fenditura.html">Esperimento della doppia fenditura</a></li>
                  <li><a href="onde-piane-pacchetti.html">Onde piane e pacchetti d‚Äôonde</a></li>
                  <li><a href="principio-sovrapposizione.html">Principio di sovrapposizione</a></li>
                  <li><a href="pacchetto-gaussiano.html">Pacchetto d‚Äôonda gaussiano</a></li>
                  <li><a href="relazione-indeterminazione.html">Relazione di indeterminazione</a></li>
                  <li><a href="equazione-schrodinger-ottica.html">L‚Äôequazione di Schr√∂dinger dall‚Äôottica</a></li>
                  <li><a href="conservazione-probabilita.html">Conservazione della probabilit√†</a></li>
                  <li><a href="densita-corrente.html">Densit√† e corrente di probabilit√†</a></li>
                  <li><a href="equazione-continuita.html">Equazione di continuit√†</a></li>
                  <li><a href="calcolo-operatoriale.html">Calcolo operatoriale</a></li>
                  <li><a href="teorema-ehrenfest.html">Teorema di Ehrenfest</a></li>
                </ul>
              </td>

              <td class="argomento-9">
                <strong>9. Spin:</strong>
                <ul>
                  <li><a href="effetto-zeeman-normale.html">Effetto Zeeman normale</a></li>
                  <li><a href="campo-b-uniforme.html">Interazione con campo EM: campo B uniforme</a></li>
                  <li><a href="esperimento-stern-gerlach.html">Esperimento di Stern-Gerlach</a></li>
                  <li><a href="spinori-pauli.html">Spin ¬Ω: spinori di Pauli</a></li>
                  <li><a href="spazi-prodotto.html">Spazi prodotto diretto</a></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 3 e 10 -->
              <td class="argomento-3">
                <strong>3. Eq. di Schr√∂dinger indipendente dal tempo:</strong>
                <ul>
                  <li><a href="autofunzioni-autovalori.html">Autofunzioni ed autovalori</a></li>
                  <li><a href="sviluppo-serie-autofunzioni.html">Sviluppo in serie di autofunzioni</a></li>
                  <li><a href="stati-stazionari.html">Stati stazionari</a></li>
                  <li><a href="misure-energia.html">Misure di energia</a></li>
                </ul>
              </td>

              <td class="argomento-10">
                <strong>10. Particelle identiche:</strong>
                <ul>
                  <li><a href="indistinguibilita.html">Indistinguibilit√†</a></li>
                  <li><a href="postulato-simmetrizzazione.html">Postulato di simmetrizzazione</a></li>
                  <li><a href="determinante-slater.html">Determinante di Slater</a></li>
                  <li><a href="principio-esclusione-pauli.html">Principio di esclusione di Pauli</a></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 4 e 11 -->
              <td class="argomento-4">
                <strong>4. Problemi unidimensionali:</strong>
                <ul>
                  <li><a href="particella-libera.html">Particella libera</a></li>
                  <li><a href="gradino-potenziale.html">Gradino di potenziale</a></li>
                  <li><a href="barriera-potenziale.html">Barriera di potenziale</a></li>
                  <li><a href="buca-potenziale.html">Buca di potenziale a pareti infinite/finite</a></li>
                  <li><a href="stati-legati-diffusione.html">Stati legati e di diffusione</a></li>
                  <li><a href="parita.html">Parit√†</a></li>
                  <li><a href="oscillatore-armonico.html">Oscillatore armonico</a></li>
                </ul>
              </td>

              <td class="argomento-11">
                <strong>11. Composizione di momenti angolari:</strong>
                <ul>
                  <li><a href="coefficenti-clebsch-gordan.html">Coefficenti di Clebsch-Gordan</a></li>
                  <li><a href="somma-spin-due-particelle.html">Somma di due spin ¬Ω</a></li>
                  <li><a href="momento-angolare-orbitale-spin.html">Somma di un momento angolare orbitale e di uno spin ¬Ω</a></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 5 e 12 -->
              <td class="argomento-5">
                <strong>5. Operatori e spazi vettoriali:</strong>
                <ul>
                  <li><a href="notazione-dirac.html">Notazione di Dirac</a></li>
                  <li><a href="coordinate-impulsi.html">Rappresentazione delle coordinate e degli impulsi</a></li>
                  <li><a href="trasformazioni-unitarie.html">Trasformazioni unitarie</a></li>
                  <li><a href="evoluzione-operatori.html">Evoluzione temporale degli operatori</a></li>
                  <li><a href="simmetrie-leggi-conservazione.html">Simmetrie e leggi di conservazione</a></li>
                  <li><a href="generatori-traslazioni.html">Generatori di traslazioni e rotazioni</a></li>
                  <li><a href="oscillatore-operatoriale.html">Oscillatore armonico con metodi operatoriali</a></li>
                </ul>
              </td>

              <td class="argomento-12">
                <strong>12. Perturbazioni stazionarie:</strong>
                <ul>
                  <li><a href="perturbazioni-non-degenere.html">Caso non degenere</a></li>
                  <li><a href="correzioni-autovalori.html">Correzioni al I e II ordine per gli autovalori dell‚Äôenergia</a></li>
                  <li><a href="correzioni-stati.html">Correzioni al I ordine per gli stati</a></li>
                  <li><a href="perturbazioni-degenere.html">Caso degenere</a></li>
                  <li><a href="rimozione-degenerazione.html">Rimozione della degenerazione</a></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 6 e 13 -->
              <td class="argomento-6">
                <strong>
                  <a href="PostulatiQM.html" class="title-link">
                    6. Postulati della meccanica quantistica:
                  </a>
                </strong>
                <ul>
                  <li><a href="degenerazione-osservabili.html">Degenerazione e osservabili compatibili</a></li>
                  <li><a href="relazioni-indeterminazione.html">Relazioni di indeterminazione</a></li>
                </ul>
              </td>

              <td class="argomento-13">
                <strong>13. Struttura fine dell‚Äôatomo di idrogeno:</strong>
                <ul>
                  <li><a href="effetti-relativistici.html">Effetti relativistici</a></li>
                  <li><a href="correzioni-primo-ordine.html">Correzioni al I ordine</a></li>
                  <li><a href="teorema-feynman-hellmann.html">Teorema di Feynman-Hellmann</a></li>
                  <li><a href="notazione-spettroscopica.html">Notazione spettroscopica</a></li>
                </ul>
              </td>
            </tr>

            <tr>
              <!-- 7 e 14 -->
              <td class="argomento-7">
                <strong>7. Momento angolare:</strong>
                <ul>
                  <li><a href="relazioni-commutazione.html">Relazioni di commutazione</a></li>
                  <li><a href="trattazione-operatoriale.html">Trattazione operatoriale</a></li>
                  <li><a href="coordinate-sferiche.html">Momento angolare in coordinate sferiche</a></li>
                  <li><a href="armoniche-sferiche.html">Armoniche sferiche</a></li>
                  <li><a href="rappresentazioni-matriciali.html">Rappresentazioni matriciali</a></li>
                </ul>
              </td>

              <td class="argomento-14">
                <strong>14. Perturbazioni dipendenti dal tempo:</strong>
                <ul>
                  <li><a href="probabilita-transizione.html">Probabilit√† di transizione</a></li>
                  <li><a href="perturbazione-costante-periodica.html">Perturbazione costante e periodica</a></li>
                  <li><a href="emissione-assorbimento-risonante.html">Emissione e assorbimento risonante</a></li>
                  <li><a href="transizioni-al-continuo.html">Transizioni al continuo</a></li>
                  <li><a href="regola-oro-fermi.html">Regola d‚Äôoro di Fermi</a></li>
                  <li><a href="vita-media-larghezza.html">Vita media e larghezza di uno stato</a></li>
                  <li><a href="ptdt.html">Riassunto Blocco 14 con immagini</a></li>
                  <li><a href="sd.html">.</a></li>
                </ul>
              </td>
            </tr>
          </table>
        </div>

        <!-- Esercizi + Esami -->
        <div class="panel panel--purple">
          <div class="callout callout--purple">
            <h2 id="esercizi-set">2. Esercizi/Set di MQ</h2>
            <ul>
              <li class="esercizio-1"><a href="set-4-radiazione-fotoelettrico.html">Set 4: Radiazione, effetto fotoelettrico, Compton, ...</a></li>
              <li class="esercizio-2"><a href="set-5-indeterminazione-normalizzazione.html">Set 5: Principio di indeterminazione, ...</a></li>
              <li class="esercizio-3"><a href="set-6-operatori-autofunzioni.html">Set 6: Valori medi operatori, autofunzioni, ...</a></li>
              <li class="esercizio-4"><a href="set-7-parita-oscillatore.html">Set 7: Parit√†, valori medi oscillatore armonico, ...</a></li>
              <li class="esercizio-5"><a href="set-7-new-multivista.html">Set 7-New: Parit√†, evoluzione temporale, ...</a></li>
              <li class="esercizio-6"><a href="set-8-operatori-angolari.html">Set 8: Operatori angolari in coordinate sferiche, ...</a></li>
              <li class="esercizio-7"><a href="set-9-funzioni-radiali.html">Set 9: Funzioni radiali idrogeno, probabilit√† ...</a></li>
              <li class="esercizio-8"><a href="set-10-momento-totale.html">Set 10: Momento angolare totale, spin combinati, ...</a></li>
              <li class="esercizio-9"><a href="set-11-perturbazioni-stazionarie.html">Set 11: Perturbazioni stazionarie: effetto Stark, ...</a></li>
              <li class="esercizio-10"><a href="set-12-probabilita-transizione.html">Set 12: Probabilit√† di transizione: oscillatore armonico ...</a></li>
            </ul>

		<h2 id="esami-scritti">3. Esami Scritti MQ</h2>
		<ul>
		  <li class="esame-1">
			<a href="esame-1-oscillatore-armonico.html">Esame 1 (05-02-2019): Oscillatore armonico, spin combinati, ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 3.</b> Oscillatore armonico con \(\langle H\rangle=\frac{3}{2}\hbar\omega\) e \(\Delta H=\frac{1}{\sqrt{2}}\hbar\omega\). Inoltre una misura di energia non pu√≤ dare un valore maggiore di \(3\hbar\omega\). (a) Risultati e probabilit√†. (b) Stato a \(t=0\) con coefficienti reali positivi. (c) \(\langle H\rangle\), \(\langle x\rangle\) e scarti quadratici medi all‚Äôistante \(t\). Si ricordi \(x=\sqrt{\frac{\hbar}{2m\omega}}(a+a^\dagger)\).</p>
				<p><b>Esercizio 4.</b> Due particelle di spin \(s_1=2\), \(s_2=3\) in configurazione di spin totale \(s=5\) e \(m_s=+4\). (a) Valori misurabili di \(s_{1z}\), \(s_{2z}\) e probabilit√†. (b) Probabilit√† che \(s_{1z}\le 0\). Si ricordi \(S_\pm|s,m_s\rangle=\hbar\sqrt{s(s+1)-m_s(m_s\pm1)}|s,m_s\pm1\rangle\).</p>
				<p><b>Esercizio 5.</b> Perturbazioni: \(E_1=E_2\neq E_3\). Trovare al I ordine autovalori/autovettori di \(H=H_0+\varepsilon h_1\), con \(h_1=\begin{pmatrix}1&2&1\\2&-1&2\\1&2&0\end{pmatrix}\).</p>
				<p><b>Esercizio 6.</b> Oscillatore armonico nello stato fondamentale a \(t=-\infty\) con perturbazione \(V(x,t)=A\delta(x-ct)\). Probabilit√† di transizione al primo stato eccitato a \(t=+\infty\) (I ordine). Dati: \(\psi_0,\psi_1\), \(\alpha^2=\frac{m\omega}{\hbar}\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-2">
			<a href="esame-2-oscillatore-combinato.html">Esame 2 (20-02-2019): Oscillatore armonico combinato, ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 3.</b> Oscillatore armonico: \( |\psi(0)\rangle=\frac{1}{\sqrt{5}}\bigl[|E_1\rangle+i\sqrt{2}|E_2\rangle+(1-i)|E_3\rangle\bigr]\). (a) Normalizzazione. (b) \(\langle E\rangle\) e scarto quadratico medio. (c) \( |\psi(t)\rangle\) e \(\langle \hat p\rangle(t)\), con \(\hat p=i\sqrt{\frac{\hbar m\omega}{2}}(a^\dagger-a)\).</p>
				<p><b>Esercizio 4.</b> Stato \( |\psi\rangle=\frac{1}{\sqrt{14}}\bigl[|1,+1\rangle+2|1,0\rangle+3i|1,-1\rangle\bigr]\). (a) Autostato di \(L^2\)? e di \(L_z\)? (b) Probabilit√† risultati di \(L_z\): \(+\hbar,0,-\hbar\). (c) \(\langle L_z\rangle\). (d) \(\langle L_x\rangle\). (e) Probabilit√† di ottenere \(+\hbar\) misurando \(L_x\). Si ricordi \(L_x=\frac{\hbar}{\sqrt{2}}\begin{pmatrix}0&1&0\\1&0&1\\0&1&0\end{pmatrix}\).</p>
				<p><b>Esercizio 5.</b> Elettrone in orbitale \(p\) con \(j=\frac{3}{2}\), \(m_j=+\frac{1}{2}\). Probabilit√† di trovare lo spin ‚Äúup‚Äù. Si ricordi \(J_{\pm}|j,m_j\rangle=\hbar\sqrt{j(j+1)-m_j(m_j\pm1)}|j,m_j\pm1\rangle\).</p>
				<p><b>Esercizio 6.</b> \(H=H_0+H'\), con \(H_0=\mathrm{diag}(\hbar\omega/2,3\hbar\omega/2,5\hbar\omega/2)\) e \(H'=\begin{pmatrix}0&ia&0\\-ia&0&0\\0&0&0\end{pmatrix}\). Correzioni all‚Äôenergia al primo ordine perturbativo non nullo; discutere lo splitting e confrontare con soluzione esatta per \(a\ll\hbar\omega\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-3">
			<a href="esame-3-particelle-degenerazione.html">Esame 3 (17-07-2019): Particelle (L¬≤, L<sub>z</sub>), degenerazione e perturbazione ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Due particelle nello stato \(|\psi\rangle=|1,1\rangle|1,-1\rangle\). Possibili valori di \(L^2\) e \(L_z\) (con \(L=L_1+L_2\)) e relative probabilit√†.</p>
				<p><b>Esercizio 2.</b> \(H=H_0+H'\) con \(H_0=\mathrm{diag}(\hbar\omega,\hbar\omega,2\hbar\omega)\) e \(H'=a\begin{pmatrix}-1&i\sqrt{2}&0\\-i\sqrt{2}&0&0\\0&0&0\end{pmatrix}\), \(a\ll\hbar\omega\). Autostati e autovalori al I ordine; discussione.</p>
				<p><b>Esercizio 3.</b> Oscillatore armonico nel secondo stato eccitato con campo elettrico \(\mathcal{E}(t)=\mathcal{E}_0 e^{-t^2/\tau^2}\) a partire da \(t=-\infty\). Stati di transizione e probabilit√† al I ordine. Si ricordi \(x=\sqrt{\frac{\hbar}{2m\omega}}(a+a^\dagger)\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-4">
			<a href="esame-4-buca-perturbazione-lineare.html">Esame 4 (16-09-2019): Oscillatore armonico, tre particelle di spin, ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 3.</b> Oscillatore armonico a \(t=0\) con: (a) \(P_0=0.75\), \(P_1=0.25\); (b) \(\langle x\rangle=0\); (c) \(\langle p\rangle<0\). Calcolare \(\langle x\rangle(t)\) e in particolare per \(t=\pi/(2\omega)\). Si ricordi \(x=\sqrt{\frac{\hbar}{2m\omega}}(a+a^\dagger)\), \(p=i\sqrt{\frac{\hbar m\omega}{2}}(a^\dagger-a)\).</p>
				<p><b>Esercizio 4.</b> Determinare i 4 stati con spin totale \(3/2\) formati da 3 particelle con spin \(1/2\). Si ricordi \(J_\pm|j,m_j\rangle=\hbar\sqrt{j(j+1)-m_j(m_j\pm1)}|j,m_j\pm1\rangle\).</p>
				<p><b>Esercizio 5.</b> Particella in buca infinita \(0<x<L\). Correzioni al I ordine per livello fondamentale e primo eccitato con perturbazione \(H_p=\varepsilon E_0\,\frac{x}{L}\), dove \(E_0\) √® l‚Äôenergia fondamentale non perturbata.</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-5">
			<a href="esame-5-perturbazione-gaussiana.html">Esame 5 (27-01-2021): Oscillatore armonico, spin (S=5/2), perturbazione gaussiana ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Oscillatore armonico con \(\langle H\rangle=\frac{3}{2}\hbar\omega\) e \(\Delta H=\frac{1}{\sqrt{2}}\hbar\omega\). Inoltre una misura di energia non pu√≤ dare un valore maggiore di \(3\hbar\omega\). (a) Risultati e probabilit√†. (b) Stato a \(t=0\) con coefficienti reali positivi. (c) Valore di aspettazione di \(H\) e posizione all‚Äôistante \(t\).</p>
				<p><b>Esercizio 2.</b> Due particelle con \(s_1=2\), \(s_2=3\), stato totale \(s=5\) e \(m_s=+4\). (a) Misura simultanea delle componenti \(z\) degli spin e probabilit√†. (b) Probabilit√† che la componente \(z\) dello spin della particella 1 sia \(\le 0\).</p>
				<p><b>Esercizio 3.</b> Oscillatore armonico fondamentale a \(t\sim-\infty\) con perturbazione \(V(t)=-qEx\,e^{-t^2/\tau^2}\). Probabilit√† al I ordine di trovarsi in \(|n\rangle\) a \(t\sim+\infty\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-6">
			<a href="esame-6-sistema-tre-livelli.html">Esame 6 (10-02-2021): Oscillatore armonico, spin (S<sub>x</sub>, S<sub>y</sub>), sistema a tre livelli ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Oscillatore armonico a \(t=0\): (a) \(P_0=0.75\), \(P_1=0.25\); (b) \(\langle x\rangle=0\); (c) \(\langle p\rangle<0\). Calcolare valore medio e scarto quadratico medio di \(x\) a tempo \(t\) e in particolare per \(t=\pi/(2\omega)\).</p>
				<p><b>Esercizio 2.</b> Particella con spin 1 nello stato \( |\Psi\rangle=\frac{1}{\sqrt{14}}(2,1,3i)^T\). Probabilit√† che una misura di \(S_x\) dia \(+\hbar\), \(0\), \(-\hbar\). Valore medio di \(S_y\).</p>
				<p><b>Esercizio 3.</b> \(E_1=E_2\neq E_3\). Trovare al I ordine autovalori/autovettori di \(H=H_0+\varepsilon h_1\), con \(h_1=\begin{pmatrix}1&2&1\\2&-1&2\\1&2&0\end{pmatrix}\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-7">
			<a href="esame-7-perturbazioni-complesse.html">Esame 7 (24-02-2021): Oscillatore armonico combinato, momento angolare totale, ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Stato iniziale: \( |\psi(0)\rangle=|E_1\rangle+i\sqrt{2}|E_2\rangle+(1-i)|E_3\rangle\), con \(H|E_n\rangle=E_n|E_n\rangle\). (a) \(\langle E\rangle\) e scarto quadratico medio. (b) \(\langle p\rangle(t)\).</p>
				<p><b>Esercizio 2.</b> Atomo con nucleo di spin \(s_N=2\) ed elettrone nello stato \(3d\). (a) Possibili valori di \(J^{(a)}\) e numero di stati permessi. (b) Se \(J^{(a)}_z=-9\hbar/2\): (i) probabilit√† per \(s_{ez}=\pm\hbar/2\); (ii) possibili valori di \(L_{ez}\) e probabilit√†.</p>
				<p><b>Esercizio 3.</b> \(H=H_0+H'\), con \(H_0=\mathrm{diag}(\hbar\omega/2,3\hbar\omega/2,5\hbar\omega/2)\) e \(H'=\begin{pmatrix}0&ia&0\\-ia&0&0\\0&0&0\end{pmatrix}\). Correzioni all‚Äôenergia al primo ordine perturbativo non nullo; discutere splitting e confronto con soluzione esatta per \(a\ll\hbar\omega\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-8">
			<a href="esame-8-particella-perturbazione.html">Esame 8 (19-01-2022): Particella (L¬≤, S<sub>z</sub>), oscillatore armonico con perturbazione ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Considerare una particella con spin 1/2 con Hamiltoniana \(H = A L_z + B S_z\), con \(\ell=1\), \(j=3/2\), \(m_j=1/2\). (a) Decomposizione su autostati di \(L^2,L_z,S^2,S_z\). (b) Evoluzione temporale e scrittura su \(J^2,J_z,L^2,S^2\). (c) Tempo di ritorno allo stato iniziale.</p>
				<p><b>Esercizio 2.</b> Oscillatore armonico: \(P_0=0.75\), \(P_1=0.25\), \(\langle x\rangle=0\), \(\langle p\rangle<0\). Calcolare \(\langle x\rangle(t)\).</p>
				<p><b>Esercizio 3.</b> Oscillatore armonico nello stato fondamentale per \(t\to-\infty\) con perturbazione \(V(t)=-qEx\,e^{-t^2/\tau^2}\). Probabilit√† al I ordine di trovarsi in \(|n\rangle\) per \(t\to+\infty\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-9">
			<a href="esame-9-spin-degenerazione.html">Esame 9 (04-02-2022): Spin (S<sub>z</sub>), oscillatore armonico (E, ‚ü®x¬≤‚ü©), particelle degenerazione ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Particella con spin 1 nello stato \(|\Psi\rangle = 2\sqrt{3}\,|+1\rangle_x + 3i\,|0\rangle_x + 2\,|-1\rangle_x\). (a) \(\langle S_x\rangle\). (b) Valori e probabilit√† di una misura di \(S_z\). (c) \(\langle S_z\rangle\).</p>
				<p><b>Esercizio 2.</b> Oscillatore armonico: misure di energia \( \frac{3}{2}\hbar\omega, \frac{5}{2}\hbar\omega, \frac{7}{2}\hbar\omega\) con \(\langle E\rangle=\frac{8}{3}\hbar\omega\) e \(\langle m\omega x^2\rangle=\frac{5}{3}\hbar\). Ricostruire lo stato (coefficienti reali, coeff. di \(7/2\,\hbar\omega\) positivo).</p>
				<p><b>Esercizio 3.</b> Due particelle: \(|\Psi(0)\rangle = |1,1\rangle|1,-1\rangle\). (a) Possibili risultati per \(L^2\) e \(L_z\). (b) Con \(H=\frac{L^2}{2I}+\lambda\,\mathbf{L}_1\cdot\mathbf{L}_2\), determinare \(|\Psi(t)\rangle\) e \(\langle H\rangle\). (c) Ripetere (a) a tempo generico.</p>
				<p><b>Formulario.</b> Armoniche sferiche; operatori per oscillatore armonico; matrici per \(j=1/2\) e \(j=1\).</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-10">
			<a href="esame-10-09012025.html">Esame 10 (09-01-2025): ‚ü®H‚ü© e ŒîH, orbitale p (j=1/2), perturbazione da campo elettrico ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Oscillatore armonico con \(\langle H\rangle=\frac{3}{2}\hbar\omega\) e \(\Delta H=\frac{1}{\sqrt{2}}\hbar\omega\). Inoltre una misura di energia non pu√≤ dare un valore maggiore di \(3\hbar\omega\). (a) Risultati e probabilit√† della misura di energia. (b) Stato a \(t=0\) nella base degli autostati (coefficienti reali positivi). (c) \(\langle H\rangle\), \(\langle x\rangle\) e scarti quadratici medi all‚Äôistante \(t\); discussione.</p>
				<p><b>Esercizio 2.</b> Un elettrone di un orbitale \(p\) √® in uno stato con momento angolare totale \(j=1/2\). Probabilit√† di trovare lo spin ‚Äúdown‚Äù se \(m_j=+1/2\); e se \(m_j=-1/2\).</p>
				<p><b>Esercizio 3.</b> Particella di massa \(m\) e carica \(q\) con forza elastica + campo elettrico \(\mathcal{E}\) (debole). Correzioni perturbative prodotte dal campo elettrico ai livelli di energia e agli stati al I ordine.</p>
			  </div>
			</details>
		  </li>

		  <li class="esame-11">
			<a href="esame-11-16042024.html">Esame 11 (16-04-2024): Momento angolare, buca (0,a) con V(x)=Œ±x, oscillatore armonico (36%/64%) ...</a>
			<details>
			  <summary>Testo</summary>
			  <div>
				<p><b>Esercizio 1.</b> Stato \(|\Psi\rangle=\frac{1}{\sqrt{2}}|1,-1\rangle+\frac{1}{\sqrt{3}}|1,0\rangle+\frac{i}{\sqrt{6}}|0,0\rangle\). (a) Probabilit√† per una misura di \(L_z\) (risultati indicati: \(2\hbar,-\hbar,0\hbar\)). (b) Valori di aspettazione di \(L_z\), \(L^2\) e \(L_x\). (c) Se la misura di \(L_z\) d√† 0 (in unit√† di \(\hbar\)), forma pi√π generale dello stato subito dopo la misura.</p>
				<p><b>Esercizio 2.</b> Particella di massa \(m\) confinata in \((0,a)\) sull‚Äôasse \(x\) con perturbazione \(V(x)=\alpha x\). Correzioni al I ordine per tutti i livelli e al II ordine per i primi due livelli.</p>
				<p><b>Esercizio 3.</b> Oscillatore armonico 1D: probabilit√† 36% che \(E=3\hbar\omega/2\) e 64% che \(E=5\hbar\omega/2\). Inoltre \(\langle x\rangle\) ha un minimo per \(t=0\). Trovare il vettore di stato all‚Äôistante \(t\); calcolare \(\langle p\rangle\) e l‚Äôenergia in funzione di \(t\).</p>
			  </div>
			</details>
		  </li>
		</ul>



            <p style="margin-top: 1.5em; font-size: 1em;">
              üëâ Per visualizzare le <strong>soluzioni reali fino al Set 10</strong> e <em>tentativi coerenti</em> per i Set 11 e 12, scarica il seguente manoscritto(che pesa troppo e costa metterlo nel sito quindi √® solo una decorazione):
            </p>
            <p>
              <a href="ManuscriptMQ2025.pdf" style="color: #8000cc; font-weight: 1000; text-decoration: none;">üìò ManuscriptMQ2025.pdf ‚Äì Soluzioni complete (PDF)</a>
            </p>

            <!-- Video Featured -->
            <div style="margin-top:2em; padding:1em 1em 1.4em 1em; border:1.5px solid #8000cc; background:rgba(249,244,255,0.85); border-radius:16px; box-shadow: 0 12px 26px rgba(0,0,0,0.12);">
              <b style="color:#990099;">üé¨ Featured:</b> <br>
              <iframe width="340" height="190"
                src="https://www.youtube.com/embed/NEUq0rPwMqk"
                title="La sfida pi√π folle che io abbia mai fatto"
                frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin"
                style="margin-top:0.7em; border-radius:14px; box-shadow:0 10px 26px rgba(184,138,227,0.28);">
              </iframe>
              <div style="margin-top:0.6em; color:#444; font-size:0.97em; font-style:italic;">
                Kamil Laurent tenta la maratona di esami universitari pi√π folle d‚ÄôItalia, da Roma a Milano. Epico, comico e motivazionale!
              </div>
            </div>
          </div>
        </div>

        <!-- Orali pre-2025 -->
        <div class="panel">
          <div class="section-title">
            <span class="chip">4</span>
            <h2 id="domande-orali" class="title-gradient">Domande Orali MQ pre-2025</h2>
          </div>

          <ul id="orali-pre2025-list">
            <li><a href="effetto-compton2.html">Effetto Compton</a></li>
            <hr>
            <li><a href="equazione-di-schrodinger.html">Equazione di Schr√∂dinger:</a></li>
            <li><a href="equazione-schrodinger-generale.html">Forma generale [e operatoriale]</a></li>
            <li><a href="conservazione-probabilita.html">Conservazione della probabilit√† (locale e globale)</a></li>
            <li><a href="equazione-continuita-nuova.html">Equazione di continuit√† (nuova)</a></li>
            <li><a href="hermiticita-conservazione.html">Hermiticit√† di \( H \) e conservazione della probabilit√†</a></li>
            <li><a href="valore-aspettazione.html">Valore di aspettazione</a></li>
            <li><a href="simmetrizzazione-prodotti.html">Simmetrizzazione dei prodotti</a></li>
            <li><a href="teorema-ehrenfest2.html">Teorema di Ehrenfest</a></li>
            <hr>
            <li><a href="soluzione-equazione-schrodinger.html">Soluzione dell‚Äôequazione di Schr√∂dinger:</a></li>
            <li><a href="stati-stazionari2.html">Stati stazionari</a></li>
            <li><a href="proprieta-autofunzioni.html">Propriet√† autofunzioni dell‚Äôenergia</a></li>
            <hr>
            <li><a href="problemi-unidimensionali.html">Problemi unidimensionali:</a></li>
            <li><a href="particella-libera2.html">Particella libera o \( V \) costante</a></li>
            <li><a href="gradino-potenziale2.html">Gradino di potenziale</a></li>
            <li><a href="barriera-potenziale2.html">Barriera di potenziale</a></li>
            <li><a href="buca-infinita.html">Buca di potenziale a pareti infinite</a></li>
            <li><a href="buca-finita.html">Buca di potenziale a pareti finite</a></li>
            <li><a href="buca-arcoseno.html">Buca di potenziale con soluzione tramite arcoseno (nuova)</a></li>
            <li><a href="oscillatore-operatoriale2.html">Oscillatore armonico operatoriale</a></li>
            <li><a href="postulati-meccanica-quantistica.html">Postulati della meccanica quantistica</a></li>
            <li><a href="osservabili-compatibili.html">Osservabili compatibili (caso degenere e non degenere)</a></li>
            <hr>
            <li><a href="relazione-indeterminazione2.html">Relazione di indeterminazione:</a></li>
            <li><a href="indeterminazione-operatoriale.html">Espressione generale operatoriale</a></li>
            <li><a href="indeterminazione-minima.html">Stato con indeterminazione minima</a></li>
            <li><a href="indeterminazione-operatori-generici.html">Dimostrazione del principio di indeterminazione per operatori generici (nuova)</a></li>
            <hr>
            <li><a href="momento-angolare.html">Momento angolare:</a></li>
            <li><a href="momento-lx-ly-lplus-lminus.html">Momento angolare \( L_x, L_y, L_+, L_- \)</a></li>
            <li><a href="modello-vettoriale.html">Modello vettoriale</a></li>
            <li><a href="evoluzione-operatori2.html">Evoluzione temporale degli operatori</a></li>
            <li><a href="composizione-J-L-S.html">Composizione di \( J \), definizione di \( L \) e \( S \) (nuova)</a></li>
            <hr>
            <li><a href="equazione-schrodinger-3d.html">Equazione di Schr√∂dinger in 3 dimensioni</a></li>
            <li><a href="oscillatore-armonico-3d2.html">Oscillatore armonico in 3 dimensioni</a></li>
            <li><a href="potenziale-centrale.html">Potenziale centrale, soluzione con \( u = R r \)</a></li>
            <hr>
            <li><a href="struttura-fine-idrogeno.html">Struttura fine dell‚Äôatomo di idrogeno:</a></li>
            <li><a href="hamiltoniana-relativistica.html">Hamiltoniana relativistica \( H_{\text{rel}} \)</a></li>
            <li><a href="correzioni-hamiltoniane.html">Correzioni Hamiltoniane</a></li>
            <li><a href="interazione-spin-orbita.html">Interazione spin-orbita \( H_{\text{spin-orbita}} \)</a></li>
            <li><a href="correzione-darwin.html">Correzione di Darwin \( H_{\text{Darwin}} \)</a></li>
            <hr>
            <li><a href="composizione-momenti-angolari.html">Composizione dei momenti angolari</a></li>
            <li><a href="particelle-identiche.html">Particelle identiche e postulato di simmetrizzazione</a></li>
            <li><a href="composizione-spin.html">Composizione degli spin (nuova)</a></li>
            <li><a href="slater-pauli.html">N particelle non interagenti, determinante di Slater, principio di Pauli</a></li>
            <hr>
            <li><a href="perturbazioni-non-dipendenti-tempo.html">Perturbazioni non dipendenti dal tempo:</a></li>
            <li><a href="perturbazioni-non-degenere2.html">Caso non degenere</a></li>
            <li><a href="effetto-stark.html">Effetto Stark</a></li>
            <hr>
            <li><a href="perturbazioni-dipendenti-tempo.html">Perturbazioni dipendenti dal tempo:</a></li>
            <li><a href="variazione-costanti.html">Metodo della variazione delle costanti</a></li>
            <li><a href="perturbazione-periodica.html">Perturbazione periodica</a></li>
            <li><a href="transizioni-continuo.html">Transizioni a uno stato del continuo (Regola d'oro di Fermi)</a></li>
            <li><a href="vita-invariata.html">Probabilit√† che lo stato rimanga invariato, vita media, larghezza di riga</a></li>
            <hr>
            <li><a href="effetto-zeeman-normale2.html">Effetto Zeeman normale</a></li>
            <hr>
            <li><a href="teorema-feynman-hellmann2.html">Teorema di Feynman-Hellmann</a></li>
            <li><a href="kummer.html">Kummer-Laplace(rara)</a></li>
          </ul>
        </div>

        <!-- Orali 2025 -->
        <div class="panel panel--red">
          <div class="section-title">
            <span class="chip">2025</span>
            <h2 id="domande-orali-2025" class="title-gradient" style="color:#b30000; font-family: Georgia, serif; border-bottom: 2px solid rgba(179,0,0,0.35); padding-bottom: 0.3em;">
              Domande Orali MQ 2025
            </h2>
          </div>

          <div class="callout callout--red">
            <ol id="orali-2025-list">
              <li><a href="Domanda2025_1.html"> Barriera di potenziale (confronto MA-CL)</a></li>
              <li><a href="Domanda2025_2.html"> Discussione termine spin-orbita nella struttura fine dell‚Äôatomo di idrogeno</a></li>
              <li><a href="Domanda2025_3.html"> Momento angolare di due fermioni legati</a></li>
              <li><a href="Domanda2025_4.html"> Teoria delle perturbazioni stazionarie degenere</a></li>
              <li><a href="Domanda2025_5.html"> Transizioni tra livelli atomici con pulsazione di Bohr</a></li>
              <li><a href="Domanda2025_6.html"> Conservazione della probabilit√† globale e locale (equazione di continuit√†)</a></li>
              <li><a href="Domanda2025_7.html"> Sistemi di particelle identiche</a></li>
              <li><a href="Domanda2025_8.html"> Perturbazioni stazionarie</a></li>
              <li><a href="Domanda2025_9.html"> Profilo generico di potenziale</a></li>
              <li><a href="Domanda2025_10.html"> Osservabili compatibili</a></li>
              <li><a href="Domanda2025_11.html"> Osservabili commutano se e solo se sono compatibili</a></li>
              <li><a href="Domanda2025_12.html"> Step di potenziale</a></li>
              <li><a href="Domanda2025_13.html"> Perturbazioni dipendenti dal tempo</a></li>
              <li><a href="Domanda2025_14.html"> Principio di Heisenberg</a></li>
              <li><a href="Domanda2025_15.html"> Pacchetto d‚Äôonda a indeterminazione minima</a></li>
              <li><a href="Domanda2025_16.html"> Coefficienti di Clebsch‚ÄìGordan</a></li>
              <li><a href="Domanda2025_17.html"> Gradino di potenziale</a></li>
              <li><a href="Domanda2025_18.html"> Composizione di momenti angolari totali</a></li>
            </ol>
          </div>
        </div>

        <!-- Ruota -->
        <div class="panel panel--dark">
          <div id="wheel-container">
            <div class="wheel-content">
              <div class="wheel-grid">
                <div class="wheel-stage">
                  <div class="wheel-pointer" aria-hidden="true"></div>
                  <canvas id="wheel" width="460" height="460"></canvas>
                </div>

                <div class="wheel-panel">
                  <h3>Ruota della Fortuna ‚Ä¢ Modalit√† Studio</h3>

                  <div class="wheel-controls">
                    <label class="pill">
                      <input type="radio" name="wheelMode" value="2025" checked>
                      Solo 2025
                    </label>
                    <label class="pill">
                      <input type="radio" name="wheelMode" value="pre2025">
                      Solo pre-2025
                    </label>
                    <label class="pill">
                      <input type="radio" name="wheelMode" value="all">
                      Tutte
                    </label>

                    <label class="pill" title="Pondera l‚Äôestrazione usando i pesi (quando disponibili)">
                      <input type="checkbox" id="wheel-weighted" checked>
                      Weighted üéØ
                    </label>

                    <label class="pill" title="Evita ripetizioni recenti (best effort)">
                      <input type="checkbox" id="wheel-avoid-repeats" checked>
                      No-repeats üß†
                    </label>
                  </div>

                  <div class="wheel-meta">
                    <div class="badge"><span class="dot" aria-hidden="true"></span> <span id="wheel-count">‚Äî</span></div>
                    <div class="badge">Status: <b id="wheel-status">Pronta</b></div>
                  </div>

                  <div style="display:flex; gap:10px; flex-wrap:wrap;">
                    <button id="spin-btn" class="btn btn--primary" type="button" onclick="spinWheel()">üé° Gira la Ruota</button>
                    <button class="btn btn--ghost" type="button" onclick="resetWheel()">‚Ü∫ Reset</button>
                  </div>

                  <div id="result-box" aria-live="polite">
                    <p id="selected-question" style="margin:0;"></p>
                  </div>

                  <div class="wheel-history">
                    <b>Ultime estrazioni</b>
                    <ul id="wheel-history-list" class="history-list"></ul>
                  </div>
                </div>
              </div>
              <div class="confetti" id="confetti" aria-hidden="true"></div>
            </div>
          </div>
        </div>

        <!-- Probabilit√† / Riordino -->
        <div class="panel">
          <div class="section-title">
            <span class="chip">Prob</span>
            <h2 class="title-gradient">Riordina Domande Orali MQ</h2>
          </div>

          <p class="muted">
            Gli argomenti sono stati ordinati inizialmente in base alla loro struttura tematica.
            √à possibile riordinarli utilizzando una delle seguenti metriche:
          </p>

          <ul>
            <li><strong style="color: #e67e22;">Percentuale:</strong> Riordina in base alla frequenza stimata dell'argomento</li>
            <li><strong style="color: #27ae60;">Dettaglio:</strong> Riordina in base alla lunghezza descrittiva</li>
            <li><strong style="color: #9b59b6;">Alfabetico:</strong> Riordina in ordine alfabetico</li>
            <li><strong style="color: #e74c3c;">Casuale:</strong> Riordina in modo casuale</li>
          </ul>

          <p><b>Seleziona un criterio di riordinamento:</b></p>

          <form id="sort-options">
            <label>
              <input type="radio" name="sort" value="standard" checked> Mantieni l'ordine standard
            </label>
            <label>
              <input type="radio" name="sort" value="percentage"> Riordina per Percentuale (frequenza stimata)
            </label>
            <label>
              <input type="radio" name="sort" value="detail"> Riordina per Lunghezza Descrittiva
            </label>
            <label>
              <input type="radio" name="sort" value="alphabetical"> Riordina Alfabeticamente
            </label>
            <label>
              <input type="radio" name="sort" value="random"> Ordina Casualmente
            </label>

            <div class="sort-filters">
              <label class="pill">
                <input type="checkbox" id="include-pre2025" checked>
                Includi pre-2025
              </label>
              <label class="pill">
                <input type="checkbox" id="include-2025" checked>
                Includi 2025
              </label>
              <label class="pill" title="Mostra solo elementi con link cliccabile (dove disponibile)">
                <input type="checkbox" id="only-linked">
                Solo con link
              </label>
            </div>

            <div style="margin-top: 12px;">
              <button type="button" onclick="applySort()" id="apply-sort-button"
                aria-label="Applica il criterio di riordinamento selezionato"
                title="Clicca per applicare il criterio di riordinamento selezionato">
                Applica Riordinamento
              </button>
            </div>
          </form>

          <div id="sorted-results" class="sorted-wrapper" style="display:none;"></div>
        </div>

      </div> <!-- /#indice-mq -->

      <footer>
        Torna all'<a href="https://amrierscuo.github.io/Computational-Physics/Args/Phy/Phy.html">Indice Principale</a>
      </footer>

    </div>
  </div>

  <script>
    /**********************************************************************
     * MQ INDEX ‚Äî SCRIPT (ONLY DARK/LIGHT TOGGLE + EVERYTHING ELSE)
     **********************************************************************/
    (() => {
      "use strict";

      const $  = (sel, root = document) => root.querySelector(sel);
      const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
      const clamp = (n, a, b) => Math.min(b, Math.max(a, n));

      function normalizeText(s){
        return (s || "")
          .toLowerCase()
          .replace(/\s+/g, " ")
          .replace(/[‚Äô']/g, "'")
          .replace(/[^\p{L}\p{N}\s:\-\(\)\[\]<>_.,]/gu, "")
          .trim();
      }

      function escapeHtml(str){
        return String(str).replace(/[&<>"']/g, (m) => ({
          "&":"&amp;", "<":"&lt;", ">":"&gt;", '"':"&quot;", "'":"&#039;"
        }[m]));
      }

      const storage = {
        get(key, fallback = null){
          try{
            const v = localStorage.getItem(key);
            return v === null ? fallback : v;
          }catch(_){ return fallback; }
        },
        set(key, value){
          try{ localStorage.setItem(key, String(value)); }catch(_){}
        }
      };

      const html = document.documentElement;

      /* =========================
         DARK / LIGHT Toggle
         ========================= */
      function syncModeUi(){
        const icon  = $("#mode-icon");
        const label = $("#mode-label");
        const badge = $("#mode-badge");
        const mode = html.dataset.mode || "dark";

        if (icon)  icon.textContent  = (mode === "dark") ? "üåô" : "‚òÄÔ∏è";
        if (label) label.textContent = (mode === "dark") ? "Scuro" : "Chiaro";
        if (badge) badge.textContent = mode.toUpperCase();
      }

      function setMode(mode){
        html.dataset.mode = mode;
        storage.set("mq_mode", mode);
        syncModeUi();
      }

      function toggleMode(){
        const cur = html.dataset.mode || "dark";
        setMode(cur === "dark" ? "light" : "dark");
      }

      function initModeToggle(){
        const systemMode =
          (window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches)
            ? "light" : "dark";

        const saved = storage.get("mq_mode", html.dataset.mode || systemMode);
        setMode(saved);

        const btn = $("#mode-btn");
        if (btn) btn.addEventListener("click", toggleMode);

        document.addEventListener("keydown", (e) => {
          if (e.altKey || e.ctrlKey || e.metaKey) return;
          if (e.key === "m" || e.key === "M") toggleMode();
        });
      }

      /* =========================
         Sidebar toggle
         ========================= */
      function toggleSidebar(){
        const sidebar = $('#sidebar');
        const content = $('#content');
        if (!sidebar || !content) return;

        const isMobile = window.matchMedia("(max-width: 860px)").matches;
        if (isMobile){
          document.body.classList.toggle("sidebar-open");
          return;
        }

        sidebar.classList.toggle('closed');
        content.classList.toggle('collapsed');
      }
      window.toggleSidebar = toggleSidebar;

      function initSidebarUX(){
        const isMobile = window.matchMedia("(max-width: 860px)").matches;
        if (isMobile){
          document.body.classList.remove("sidebar-open");
        } else {
          $('#sidebar')?.classList.remove("closed");
          $('#content')?.classList.remove("collapsed");
        }

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") document.body.classList.remove("sidebar-open");
        });

        document.addEventListener("click", (e) => {
          const isMobileNow = window.matchMedia("(max-width: 860px)").matches;
          if (!isMobileNow) return;
          if (!document.body.classList.contains("sidebar-open")) return;

          const sidebar = $('#sidebar');
          const toggle = document.querySelector(".toggle-btn");
          if (sidebar && !sidebar.contains(e.target) && toggle && !toggle.contains(e.target)){
            document.body.classList.remove("sidebar-open");
          }
        });
      }

      /* =========================
         Collect DOM items (Orali)
         ========================= */
      const pre2025Anchors = $$('#orali-pre2025-list a');
      const y2025Anchors   = $$('#orali-2025-list a');

      const pre2025Items = pre2025Anchors.map(a => ({
        title: (a.textContent || "").trim(),
        href: a.getAttribute('href'),
        group: 'pre2025'
      }));

      const y2025Items = y2025Anchors.map(a => ({
        title: (a.textContent || "").trim(),
        href: a.getAttribute('href'),
        group: '2025'
      }));

      const allOralItems = [...y2025Items, ...pre2025Items];

      /* =========================
         Wheel
         ========================= */
      const POINTER_ANGLE = -Math.PI / 2; // top

      const wheelState = {
        canvas: $('#wheel'),
        ctx: null,
        dpr: 1,
        size: 460,
        rotation: 0,
        isSpinning: false,
        mode: '2025',
        items: [...y2025Items],
        lastPicks: [],
        selectedIndex: -1
      };

      function setupWheelCanvas(){
        const canvas = wheelState.canvas;
        if (!canvas) return;

        const dpr = Math.max(1, window.devicePixelRatio || 1);
        const rect = canvas.getBoundingClientRect();
        const size = Math.max(240, Math.round(Math.min(rect.width || 460, rect.height || rect.width || 460)));

        canvas.width  = Math.round(size * dpr);
        canvas.height = Math.round(size * dpr);

        const ctx = canvas.getContext('2d');
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

        wheelState.ctx = ctx;
        wheelState.dpr = dpr;
        wheelState.size = size;
      }

      function clearCanvas(){
        const canvas = wheelState.canvas;
        const ctx = wheelState.ctx;
        if (!canvas || !ctx) return;

        ctx.setTransform(1,0,0,1,0,0);
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.setTransform(wheelState.dpr, 0, 0, wheelState.dpr, 0, 0);
      }

      function hslColor(i, n){
        const hue = (i * (360 / n) + 15) % 360;
        return `hsl(${hue} 92% 56%)`;
      }

      function getModeItems(mode){
        if (mode === 'pre2025') return [...pre2025Items];
        if (mode === 'all') return [...y2025Items, ...pre2025Items];
        return [...y2025Items];
      }

      function updateWheelMeta(){
        const countEl = $('#wheel-count');
        const mode = document.querySelector('input[name="wheelMode"]:checked')?.value || '2025';
        wheelState.mode = mode;
        wheelState.items = getModeItems(mode);
        if (countEl){
          const label = (mode === '2025') ? "Solo 2025" : (mode === 'pre2025') ? "Solo pre-2025" : "Tutte";
          countEl.textContent = `${label} ‚Ä¢ ${wheelState.items.length} voci`;
        }
      }

      function drawWheel(rotationRad = 0, highlightIndex = -1){
        const canvas = wheelState.canvas;
        const ctx = wheelState.ctx;
        const items = wheelState.items;
        if (!canvas || !ctx) return;

        const n = Math.max(1, items.length);
        const w = wheelState.size;
        const h = wheelState.size;
        const cx = w / 2;
        const cy = h / 2;
        const radius = Math.min(cx, cy) - 14;
        const step = (2 * Math.PI) / n;

        clearCanvas();

        ctx.save();
        ctx.beginPath();
        ctx.arc(cx, cy, radius + 8, 0, 2 * Math.PI);
        ctx.strokeStyle = "rgba(0,229,255,0.25)";
        ctx.lineWidth = 10;
        ctx.stroke();
        ctx.restore();

        ctx.save();
        ctx.translate(cx, cy);
        ctx.rotate(rotationRad);
        ctx.translate(-cx, -cy);

        for (let i = 0; i < n; i++){
          const start = i * step;
          const end = start + step;

          ctx.beginPath();
          ctx.moveTo(cx, cy);
          ctx.arc(cx, cy, radius, start, end);
          ctx.closePath();

          const base = (i === highlightIndex) ? "rgba(255,42,109,0.95)" : hslColor(i, n);
          ctx.fillStyle = base;
          ctx.fill();

          ctx.save();
          ctx.clip();
          ctx.globalAlpha = 0.14;
          ctx.fillStyle = "rgba(255,255,255,0.85)";
          ctx.fillRect(cx - radius, cy - radius, radius * 2, radius * 2);
          ctx.globalAlpha = 0.12;
          for (let k = 0; k < 6; k++){
            ctx.fillStyle = (k % 2 === 0) ? "rgba(0,0,0,0.18)" : "rgba(255,255,255,0.22)";
            ctx.fillRect(cx - radius + k * 22, cy - radius, 10, radius * 2);
          }
          ctx.restore();

          ctx.strokeStyle = "rgba(255,255,255,0.35)";
          ctx.lineWidth = 2;
          ctx.stroke();

          const item = items[i] || { title: "" };
          const long = item.title || "";
          const showIndexOnly = n > 28;
          const label = showIndexOnly ? String(i + 1) : (long.length > 18 ? long.slice(0, 18) + "‚Ä¶" : long);

          const textAngle = start + step / 2;
          ctx.save();
          ctx.translate(cx, cy);
          ctx.rotate(textAngle);
          ctx.textAlign = "right";
          ctx.textBaseline = "middle";
          ctx.fillStyle = "rgba(255,255,255,0.95)";
          ctx.font = showIndexOnly ? "900 18px system-ui" : "800 12px system-ui";
          ctx.shadowColor = "rgba(0,0,0,0.35)";
          ctx.shadowBlur = 8;
          ctx.fillText(label, radius - 14, 0);
          ctx.restore();
        }

        ctx.restore();

        ctx.save();
        ctx.beginPath();
        ctx.arc(cx, cy, 34, 0, 2 * Math.PI);
        ctx.fillStyle = "rgba(255,255,255,0.92)";
        ctx.fill();
        ctx.lineWidth = 6;
        ctx.strokeStyle = "rgba(255,42,109,0.75)";
        ctx.stroke();

        ctx.beginPath();
        ctx.arc(cx, cy, 16, 0, 2 * Math.PI);
        ctx.fillStyle = "rgba(179,0,0,0.92)";
        ctx.fill();
        ctx.restore();

        ctx.save();
        ctx.beginPath();
        ctx.arc(cx, cy, radius + 2, -Math.PI/2 - 0.16, -Math.PI/2 + 0.16);
        ctx.strokeStyle = "rgba(255,255,255,0.45)";
        ctx.lineWidth = 6;
        ctx.stroke();
        ctx.restore();
      }

      function currentIndexUnderPointer(rotationRad){
        const n = Math.max(1, wheelState.items.length);
        const step = (2 * Math.PI) / n;
        const angle = (POINTER_ANGLE - rotationRad) % (2 * Math.PI);
        const normalized = (angle + 2 * Math.PI) % (2 * Math.PI);
        const idx = Math.floor(normalized / step);
        return Math.min(n - 1, Math.max(0, idx));
      }

      function easeOutCubic(t){ return 1 - Math.pow(1 - t, 3); }

      function weightedPickIndex(items, weightByTitle){
        let total = 0;
        const weights = items.map(it => {
          const w = Math.max(0.1, Number(weightByTitle.get(normalizeText(it.title))) || 1);
          total += w;
          return w;
        });
        let r = Math.random() * total;
        for (let i = 0; i < weights.length; i++){
          r -= weights[i];
          if (r <= 0) return i;
        }
        return Math.floor(Math.random() * items.length);
      }

      function avoidRecent(index, maxTries = 25){
        const avoid = new Set(wheelState.lastPicks.slice(-6));
        if (!avoid.has(index)) return index;
        const n = wheelState.items.length;
        for (let t = 0; t < maxTries; t++){
          const j = Math.floor(Math.random() * n);
          if (!avoid.has(j)) return j;
        }
        return index;
      }

      function showWheelResult(item){
        const box = $('#result-box');
        const p = $('#selected-question');
        if (!box || !p) return;

        const groupLabel = item.group === '2025' ? 'Domande 2025' : 'Domande pre-2025';
        const title = escapeHtml(item.title || "(senza titolo)");
        const href = item.href ? item.href.replace(/"/g, "&quot;") : "";

        p.innerHTML = `
          <span class="result-kicker" style="display:block;">${groupLabel}</span>
          <span class="result-title" style="display:block;">${title}</span>
          <span class="result-actions" style="display:flex; gap:10px; flex-wrap:wrap;">
            ${href ? `<a class="btn btn--primary" href="${href}" target="_blank" rel="noopener">Apri link ‚Üó</a>` : ""}
            <button class="btn btn--ghost" type="button" onclick="spinWheel()">Gira ancora üé≤</button>
          </span>
        `;
        box.style.display = "block";
      }

      function pushHistory(item){
        const list = $('#wheel-history-list');
        if (!list) return;

        const safeTitle = escapeHtml(item.title);
        const safeHref = item.href ? item.href.replace(/"/g, "&quot;") : null;
        const label = item.group === '2025' ? "25" : "pre";

        const li = document.createElement("li");
        li.className = "history-item";
        li.innerHTML = `
          <div class="mini">${label}</div>
          <div>
            <div style="font-weight:1000; line-height:1.2;">
              ${safeHref ? `<a href="${safeHref}" target="_blank" rel="noopener">${safeTitle}</a>` : safeTitle}
            </div>
            <div style="opacity:0.75; margin-top:4px;">${item.group === '2025' ? 'Orali 2025' : 'Orali pre-2025'}</div>
          </div>
        `;
        list.prepend(li);
        while (list.children.length > 6) list.removeChild(list.lastChild);
      }

      function confettiBoom(){
        const wrap = $('#confetti');
        if (!wrap) return;
        wrap.innerHTML = "";
        const n = 26;
        for (let i = 0; i < n; i++){
          const s = document.createElement("span");
          const left = Math.random() * 100;
          const delay = Math.random() * 0.15;
          const dur = 1.1 + Math.random() * 0.9;

          s.style.left = left + "%";
          s.style.animationDelay = delay + "s";
          s.style.animationDuration = dur + "s";
          s.style.transform = `translateY(0) rotate(${Math.random() * 180}deg)`;
          s.style.background = `hsl(${Math.floor(Math.random() * 360)} 92% 60%)`;
          s.style.width = (8 + Math.random() * 10) + "px";
          s.style.height = (12 + Math.random() * 16) + "px";
          wrap.appendChild(s);
        }
        setTimeout(() => { wrap.innerHTML = ""; }, 2300);
      }

      /* =========================
         Sorting / probabilities
         ========================= */
      const topicsSeed = [
        { topic: "Effetto Compton", weight: 5, detailLength: 15 },
        { topic: "Equazione di Schr√∂dinger: Forma generale [e operatoriale]", weight: 8, detailLength: 60 },
        { topic: "Conservazione della probabilit√† (locale e globale)", weight: 6, detailLength: 45 },
        { topic: "Hermiticit√† di H e conservazione della probabilit√†", weight: 6, detailLength: 53 },
        { topic: "Valore di aspettazione", weight: 5, detailLength: 23 },
        { topic: "Simmetrizzazione dei prodotti", weight: 5, detailLength: 26 },
        { topic: "Teorema di Ehrenfest", weight: 5, detailLength: 22 },
        { topic: "Soluzione dell‚Äôequazione di Schr√∂dinger: Stati stazionari", weight: 7, detailLength: 58 },
        { topic: "Propriet√† autofunzioni dell‚Äôenergia", weight: 6, detailLength: 38 },
        { topic: "Problemi unidimensionali: Particella libera o V costante", weight: 7, detailLength: 58 },
        { topic: "Gradino di potenziale", weight: 6, detailLength: 21 },
        { topic: "Barriera di potenziale", weight: 6, detailLength: 23 },
        { topic: "Buca di potenziale a pareti infinite", weight: 6, detailLength: 34 },
        { topic: "Buca di potenziale a pareti finite", weight: 5, detailLength: 29 },
        { topic: "Momento Lx, Ly, L+, L-", weight: 6, detailLength: 20 },
        { topic: "Oscillatore armonico: Approccio operatoriale", weight: 10, detailLength: 42 },
        { topic: "Oscillatore armonico: Soluzione in 3 dimensioni", weight: 8, detailLength: 51 },
        { topic: "Postulati della meccanica quantistica", weight: 7, detailLength: 38 },
        { topic: "Osservabili compatibili (caso degenere e non degenere)", weight: 6, detailLength: 56 },
        { topic: "Relazione di indeterminazione: Espressione generale operatoriale", weight: 8, detailLength: 64 },
        { topic: "Relazione di indeterminazione: Stato con indeterminazione minima", weight: 7, detailLength: 64 },
        { topic: "Momento angolare: Definizione e propriet√†", weight: 6, detailLength: 41 },
        { topic: "Momento angolare: Evoluzione temporale degli operatori", weight: 6, detailLength: 44 },
        { topic: "Momento angolare: Modello vettoriale", weight: 5, detailLength: 20 },
        { topic: "Momento angolare: Composizione di L e S", weight: 7, detailLength: 56 },
        { topic: "Struttura fine dell‚Äôatomo di idrogeno: Hamiltoniana relativistica (H_rel)", weight: 4, detailLength: 55 },
        { topic: "Struttura fine dell‚Äôatomo di idrogeno: Correzioni Hamiltoniane", weight: 4, detailLength: 38 },
        { topic: "Struttura fine dell‚Äôatomo di idrogeno: Interazione spin-orbita (H_spin-orbita)", weight: 4, detailLength: 78 },
        { topic: "Struttura fine dell‚Äôatomo di idrogeno: Correzione di Darwin (H_Darwin)", weight: 4, detailLength: 58 },
        { topic: "Particelle in campo elettromagnetico: Effetto Zeeman normale", weight: 4, detailLength: 44 },
        { topic: "Particelle identiche: N particelle non interagenti", weight: 4, detailLength: 51 },
        { topic: "Determinante di Slater", weight: 4, detailLength: 26 },
        { topic: "Principio di Pauli", weight: 4, detailLength: 20 },
        { topic: "Composizione degli spin", weight: 5, detailLength: 35 },
        { topic: "Perturbazioni non dipendenti dal tempo: Caso non degenere", weight: 6, detailLength: 45 },
        { topic: "Effetto Stark", weight: 6, detailLength: 34 },
        { topic: "Perturbazioni dipendenti dal tempo: Metodo della variazione delle costanti", weight: 6, detailLength: 74 },
        { topic: "Perturbazioni dipendenti dal tempo: Perturbazione periodica", weight: 6, detailLength: 60 },
        { topic: "Perturbazioni dipendenti dal tempo: Transizioni a uno stato del continuo", weight: 6, detailLength: 72 },
        { topic: "Perturbazioni dipendenti dal tempo: Probabilit√† dello stato invariato", weight: 5, detailLength: 44 },
        { topic: "Teorema di Feynman-Hellmann", weight: 4, detailLength: 33 },
      ];

      const medalImages = { Gold: "Gold.png", Silver: "Silver.png", Bronze: "Bronze.png" };

      function tokens(s){
        return normalizeText(s).split(/[\s,.:()\[\]\-]+/).filter(Boolean);
      }

      function scoreMatch(query, candidate){
        const q = normalizeText(query);
        const c = normalizeText(candidate);
        if (!q || !c) return 0;
        if (q === c) return 2000;

        let score = 0;
        if (q.includes(c) && c.length > 4) score = Math.max(score, 600 + c.length);
        if (c.includes(q) && q.length > 4) score = Math.max(score, 560 + q.length);

        const qt = new Set(tokens(q));
        const ct = new Set(tokens(c));
        let inter = 0;
        for (const t of qt) if (ct.has(t)) inter++;
        const union = qt.size + ct.size - inter || 1;
        score = Math.max(score, 300 * (inter / union));

        return score;
      }

      function findBestHrefForTopic(topic){
        const candidates = [];
        const raw = (topic || "").trim();
        if (!raw) return null;

        candidates.push(raw);
        if (raw.includes(":")){
          const after = raw.split(":").slice(1).join(":").trim();
          if (after) candidates.push(after);
        }
        const noPar = raw.replace(/\([^)]*\)/g, "").replace(/\s+/g, " ").trim();
        if (noPar && noPar !== raw) candidates.push(noPar);

        let bestHref = null;
        let bestScore = 0;
        for (const it of allOralItems){
          for (const cand of candidates){
            const sc = scoreMatch(cand, it.title);
            if (sc > bestScore){
              bestScore = sc;
              bestHref = it.href || null;
            }
          }
        }
        return bestHref;
      }

      function buildTopicsDataset(){
        const seen = new Set();

        const dataset = topicsSeed.map(t => {
          const key = normalizeText(t.topic);
          seen.add(key);

          const href = findBestHrefForTopic(t.topic);
          const group = href && /^Domanda2025_/.test(href) ? "2025" : "pre2025";

          return {
            topic: t.topic,
            weight: t.weight,
            detailLength: t.detailLength ?? (t.topic || "").length,
            href: href || null,
            group,
            auto: false
          };
        });

        for (const it of allOralItems){
          const key = normalizeText(it.title);
          if (seen.has(key)) continue;
          seen.add(key);

          dataset.push({
            topic: it.title,
            weight: it.group === "2025" ? 6 : 3,
            detailLength: (it.title || "").length,
            href: it.href || null,
            group: it.group,
            auto: true
          });
        }

        return dataset;
      }

      let topicsAll = buildTopicsDataset();

      function computePercentages(items){
        const total = items.reduce((s, x) => s + (Number(x.weight) || 0), 0) || 1;
        return items.map(x => ({ ...x, percentage: (Number(x.weight) || 0) * 100 / total }));
      }

      function shuffle(arr){
        const a = [...arr];
        for (let i = a.length - 1; i > 0; i--){
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      function applySort(){
        const sortOption = document.querySelector('input[name="sort"]:checked')?.value || "standard";
        const includePre = $('#include-pre2025')?.checked ?? true;
        const include2025 = $('#include-2025')?.checked ?? true;
        const onlyLinked = $('#only-linked')?.checked ?? false;

        let filtered = topicsAll.filter(t => {
          if (t.group === "pre2025" && !includePre) return false;
          if (t.group === "2025" && !include2025) return false;
          if (onlyLinked && !t.href) return false;
          return true;
        });

        filtered = computePercentages(filtered);

        if (sortOption === "percentage"){
          filtered.sort((a, b) => b.percentage - a.percentage);
        } else if (sortOption === "detail"){
          filtered.sort((a, b) => (b.detailLength || 0) - (a.detailLength || 0));
        } else if (sortOption === "alphabetical"){
          filtered.sort((a, b) => (a.topic || "").localeCompare(b.topic || "", "it"));
        } else if (sortOption === "random"){
          filtered = shuffle(filtered);
        } else {
          const seedOrder = new Map(topicsSeed.map((t, i) => [normalizeText(t.topic), i]));
          filtered.sort((a, b) => {
            const ai = seedOrder.has(normalizeText(a.topic)) ? seedOrder.get(normalizeText(a.topic)) : 1e9;
            const bi = seedOrder.has(normalizeText(b.topic)) ? seedOrder.get(normalizeText(b.topic)) : 1e9;
            if (ai !== bi) return ai - bi;
            return (a.topic || "").localeCompare(b.topic || "", "it");
          });
        }

        const resultsDiv = $('#sorted-results');
        if (!resultsDiv) return;

        const medals = (idx) => {
          if (sortOption !== "percentage") return "";
          if (idx < 3) return `<span class="medal"><img src="${medalImages.Gold}" alt="Gold"> Top 3</span>`;
          if (idx < 8) return `<span class="medal"><img src="${medalImages.Silver}" alt="Silver"> Top 8</span>`;
          if (idx < 18) return `<span class="medal"><img src="${medalImages.Bronze}" alt="Bronze"> Top 18</span>`;
          return "";
        };

        const maxPct = Math.max(...filtered.map(x => x.percentage || 0), 0.0001);

        resultsDiv.style.display = "block";
        resultsDiv.innerHTML = `
          <h3>Lista Riordinata (${filtered.length} voci)</h3>
          <ul class="sorted-list">
            ${filtered.map((t, idx) => {
              const pct = t.percentage ?? 0;
              const pctNorm = clamp((pct / maxPct) * 100, 0, 100);
              const tagClass = t.group === "2025" ? "tag tag--2025" : "tag tag--pre";
              const tagText  = t.group === "2025" ? "2025" : "pre-2025";
              const title = escapeHtml(t.topic || "");
              const href = t.href ? t.href.replace(/"/g, "&quot;") : null;

              return `
                <li class="sorted-item">
                  <div class="sorted-top">
                    <div class="sorted-title">
                      ${href ? `<a href="${href}" target="_blank" rel="noopener">${title}</a>` : title}
                    </div>
                    <div class="${tagClass}">${tagText}</div>
                  </div>
                  <div class="bar"><span style="width:${pctNorm.toFixed(1)}%"></span></div>
                  <div class="sorted-meta">
                    <span><b>${pct.toFixed(2)}%</b> ‚Ä¢ weight=${Number(t.weight).toFixed(1)}</span>
                    <span>Dettaglio: ${t.detailLength ?? title.length}</span>
                    ${medals(idx)}
                    ${t.auto ? `<span class="tag" title="Aggiunto automaticamente dai link presenti nella pagina">AUTO</span>` : ""}
                  </div>
                </li>
              `;
            }).join("")}
          </ul>
        `;
      }
      window.applySort = applySort;

      function buildWeightMapForWheel(items){
        const map = new Map();
        for (const t of topicsAll) map.set(normalizeText(t.topic), Number(t.weight) || 1);
        for (const it of items){
          const key = normalizeText(it.title);
          if (!map.has(key)) map.set(key, it.group === "2025" ? 6 : 3);
        }
        return map;
      }

      function spinWheel(){
        if (wheelState.isSpinning) return;

        updateWheelMeta();
        const items = wheelState.items;
        if (!items.length) return;

        const spinBtn = $('#spin-btn');
        const statusEl = $('#wheel-status');
        const avoidRepeats = $('#wheel-avoid-repeats')?.checked ?? true;

        const weightByTitle = buildWeightMapForWheel(items);
        const useWeighted = $('#wheel-weighted')?.checked ?? true;

        let chosen = useWeighted ? weightedPickIndex(items, weightByTitle) : Math.floor(Math.random() * items.length);
        if (avoidRepeats) chosen = avoidRecent(chosen);

        wheelState.selectedIndex = chosen;

        const n = items.length;
        const step = (2 * Math.PI) / n;

        const mid = chosen * step + step / 2;
        const spins = 5 + Math.random() * 3;
        const target = (POINTER_ANGLE - mid) + spins * 2 * Math.PI;

        const startRotation = wheelState.rotation;
        const delta = target - startRotation;
        const duration = 5200 + Math.random() * 900;

        wheelState.isSpinning = true;
        if (spinBtn) spinBtn.disabled = true;
        if (statusEl) statusEl.textContent = "Spinning‚Ä¶";

        let lastIdx = -1;
        const start = performance.now();

        const animate = (now) => {
          const t = Math.min(1, (now - start) / duration);
          const eased = easeOutCubic(t);

          wheelState.rotation = startRotation + delta * eased;

          const idx = currentIndexUnderPointer(wheelState.rotation);
          if (idx !== lastIdx) lastIdx = idx;

          drawWheel(wheelState.rotation, idx);

          if (t < 1){
            requestAnimationFrame(animate);
            return;
          }

          wheelState.rotation = startRotation + delta;
          drawWheel(wheelState.rotation, chosen);

          const pickedItem = items[chosen];
          showWheelResult(pickedItem);
          pushHistory(pickedItem);

          wheelState.lastPicks.unshift(chosen);
          wheelState.lastPicks = wheelState.lastPicks.slice(0, 12);

          confettiBoom();

          wheelState.isSpinning = false;
          if (spinBtn) spinBtn.disabled = false;
          if (statusEl) statusEl.textContent = "Fatto!";
        };

        requestAnimationFrame(animate);
      }
      window.spinWheel = spinWheel;

      function resetWheel(){
        wheelState.rotation = 0;
        wheelState.lastPicks = [];
        wheelState.selectedIndex = -1;

        const statusEl = $('#wheel-status');
        if (statusEl) statusEl.textContent = "Pronta";

        const box = $('#result-box');
        if (box) box.style.display = "none";

        updateWheelMeta();
        drawWheel(0, -1);
      }
      window.resetWheel = resetWheel;

      function bindWheelControls(){
        $$('input[name="wheelMode"]').forEach(r => {
          r.addEventListener('change', () => {
            updateWheelMeta();
            drawWheel(wheelState.rotation, -1);
          });
        });
      }

      /* =========================
         Init
         ========================= */
      function init(){
        initModeToggle();
        initSidebarUX();

        if (wheelState.canvas){
          bindWheelControls();
          updateWheelMeta();
          setupWheelCanvas();
          drawWheel(0, -1);

          window.addEventListener("resize", () => {
            setupWheelCanvas();
            drawWheel(wheelState.rotation, -1);
          }, { passive: true });
        }
      }

      if (document.readyState === "loading"){
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
